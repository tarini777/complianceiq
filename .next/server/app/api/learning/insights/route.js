"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/learning/insights/route";
exports.ids = ["app/api/learning/insights/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Flearning%2Finsights%2Froute&page=%2Fapi%2Flearning%2Finsights%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Flearning%2Finsights%2Froute.ts&appDir=%2FUsers%2Ftarinipersonal%2FDocuments%2FComplianceIQ%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftarinipersonal%2FDocuments%2FComplianceIQ&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Flearning%2Finsights%2Froute&page=%2Fapi%2Flearning%2Finsights%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Flearning%2Finsights%2Froute.ts&appDir=%2FUsers%2Ftarinipersonal%2FDocuments%2FComplianceIQ%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftarinipersonal%2FDocuments%2FComplianceIQ&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_tarinipersonal_Documents_ComplianceIQ_src_app_api_learning_insights_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/learning/insights/route.ts */ \"(rsc)/./src/app/api/learning/insights/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/learning/insights/route\",\n        pathname: \"/api/learning/insights\",\n        filename: \"route\",\n        bundlePath: \"app/api/learning/insights/route\"\n    },\n    resolvedPagePath: \"/Users/tarinipersonal/Documents/ComplianceIQ/src/app/api/learning/insights/route.ts\",\n    nextConfigOutput,\n    userland: _Users_tarinipersonal_Documents_ComplianceIQ_src_app_api_learning_insights_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/learning/insights/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZsZWFybmluZyUyRmluc2lnaHRzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZsZWFybmluZyUyRmluc2lnaHRzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGbGVhcm5pbmclMkZpbnNpZ2h0cyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnRhcmluaXBlcnNvbmFsJTJGRG9jdW1lbnRzJTJGQ29tcGxpYW5jZUlRJTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRnRhcmluaXBlcnNvbmFsJTJGRG9jdW1lbnRzJTJGQ29tcGxpYW5jZUlRJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNtQztBQUNoSDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbXBsaWFuY2UtaXEvPzc2YjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL3RhcmluaXBlcnNvbmFsL0RvY3VtZW50cy9Db21wbGlhbmNlSVEvc3JjL2FwcC9hcGkvbGVhcm5pbmcvaW5zaWdodHMvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2xlYXJuaW5nL2luc2lnaHRzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvbGVhcm5pbmcvaW5zaWdodHNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2xlYXJuaW5nL2luc2lnaHRzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL3RhcmluaXBlcnNvbmFsL0RvY3VtZW50cy9Db21wbGlhbmNlSVEvc3JjL2FwcC9hcGkvbGVhcm5pbmcvaW5zaWdodHMvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2xlYXJuaW5nL2luc2lnaHRzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Flearning%2Finsights%2Froute&page=%2Fapi%2Flearning%2Finsights%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Flearning%2Finsights%2Froute.ts&appDir=%2FUsers%2Ftarinipersonal%2FDocuments%2FComplianceIQ%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftarinipersonal%2FDocuments%2FComplianceIQ&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/learning/insights/route.ts":
/*!************************************************!*\
  !*** ./src/app/api/learning/insights/route.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   dynamic: () => (/* binding */ dynamic)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_learning_continuousLearningEngine__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/learning/continuousLearningEngine */ \"(rsc)/./src/lib/learning/continuousLearningEngine.ts\");\n/**\n * Continuous Learning Insights API\n * Provides AI-powered insights from audit logs and user behavior patterns\n */ \n\n// Force dynamic rendering for this API route\nconst dynamic = \"force-dynamic\";\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const action = searchParams.get(\"action\") || \"insights\";\n        const limit = parseInt(searchParams.get(\"limit\") || \"20\");\n        console.log(`Continuous Learning API called with action: ${action}`);\n        switch(action){\n            case \"insights\":\n                // Get recent learning insights\n                const recentInsights = _lib_learning_continuousLearningEngine__WEBPACK_IMPORTED_MODULE_1__.continuousLearningEngine.getRecentInsights(limit);\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: true,\n                    data: {\n                        insights: recentInsights,\n                        summary: {\n                            totalInsights: recentInsights.length,\n                            criticalInsights: recentInsights.filter((i)=>i.severity === \"critical\").length,\n                            highInsights: recentInsights.filter((i)=>i.severity === \"high\").length,\n                            mediumInsights: recentInsights.filter((i)=>i.severity === \"medium\").length,\n                            lowInsights: recentInsights.filter((i)=>i.severity === \"low\").length\n                        },\n                        categories: {\n                            assessment: recentInsights.filter((i)=>i.category === \"assessment\").length,\n                            user_behavior: recentInsights.filter((i)=>i.category === \"user_behavior\").length,\n                            system_performance: recentInsights.filter((i)=>i.category === \"system_performance\").length,\n                            compliance: recentInsights.filter((i)=>i.category === \"compliance\").length\n                        }\n                    },\n                    timestamp: new Date().toISOString()\n                });\n            case \"cycle\":\n                // Run a new learning cycle\n                console.log(\"Running new learning cycle...\");\n                const learningCycle = await _lib_learning_continuousLearningEngine__WEBPACK_IMPORTED_MODULE_1__.continuousLearningEngine.runLearningCycle();\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: true,\n                    data: learningCycle,\n                    message: `Learning cycle ${learningCycle.status === \"completed\" ? \"completed successfully\" : \"failed\"}`,\n                    timestamp: new Date().toISOString()\n                });\n            case \"history\":\n                // Get learning cycle history\n                const learningHistory = _lib_learning_continuousLearningEngine__WEBPACK_IMPORTED_MODULE_1__.continuousLearningEngine.getLearningHistory();\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: true,\n                    data: {\n                        cycles: learningHistory,\n                        summary: {\n                            totalCycles: learningHistory.length,\n                            completedCycles: learningHistory.filter((c)=>c.status === \"completed\").length,\n                            failedCycles: learningHistory.filter((c)=>c.status === \"failed\").length,\n                            totalInsightsGenerated: learningHistory.reduce((sum, c)=>sum + c.summary.totalInsights, 0)\n                        }\n                    },\n                    timestamp: new Date().toISOString()\n                });\n            case \"summary\":\n                // Get learning summary\n                const history = _lib_learning_continuousLearningEngine__WEBPACK_IMPORTED_MODULE_1__.continuousLearningEngine.getLearningHistory();\n                const insights = _lib_learning_continuousLearningEngine__WEBPACK_IMPORTED_MODULE_1__.continuousLearningEngine.getRecentInsights(50);\n                const summary = {\n                    totalCycles: history.length,\n                    lastCycle: history[0] || null,\n                    recentInsights: insights.slice(0, 10),\n                    topCategories: getTopCategories(insights),\n                    criticalIssues: insights.filter((i)=>i.severity === \"critical\").length,\n                    recommendations: getAllRecommendations(insights)\n                };\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: true,\n                    data: summary,\n                    timestamp: new Date().toISOString()\n                });\n            default:\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: false,\n                    error: \"Invalid action parameter. Supported actions: insights, cycle, history, summary\"\n                }, {\n                    status: 400\n                });\n        }\n    } catch (error) {\n        console.error(\"Error in continuous learning API:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: \"Failed to retrieve learning insights\",\n            details: error instanceof Error ? error.message : \"Unknown error\"\n        }, {\n            status: 500\n        });\n    }\n}\n/**\n * Get top categories from insights\n */ function getTopCategories(insights) {\n    const categories = {};\n    if (insights && Array.isArray(insights)) {\n        insights.forEach((insight)=>{\n            if (insight.category) {\n                categories[insight.category] = (categories[insight.category] || 0) + 1;\n            }\n        });\n    }\n    return Object.fromEntries(Object.entries(categories).sort(([, a], [, b])=>b - a).slice(0, 5));\n}\n/**\n * Get all recommendations from insights\n */ function getAllRecommendations(insights) {\n    const recommendations = new Set();\n    if (insights && Array.isArray(insights)) {\n        insights.forEach((insight)=>{\n            if (insight.recommendations && Array.isArray(insight.recommendations)) {\n                insight.recommendations.forEach((rec)=>recommendations.add(rec));\n            }\n        });\n    }\n    return Array.from(recommendations).slice(0, 20);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9sZWFybmluZy9pbnNpZ2h0cy9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7OztDQUdDLEdBRXVEO0FBQzJCO0FBRW5GLDZDQUE2QztBQUN0QyxNQUFNRSxVQUFVLGdCQUFnQjtBQUdoQyxlQUFlQyxJQUFJQyxPQUFvQjtJQUM1QyxJQUFJO1FBQ0YsTUFBTSxFQUFFQyxZQUFZLEVBQUUsR0FBRyxJQUFJQyxJQUFJRixRQUFRRyxHQUFHO1FBQzVDLE1BQU1DLFNBQVNILGFBQWFJLEdBQUcsQ0FBQyxhQUFhO1FBQzdDLE1BQU1DLFFBQVFDLFNBQVNOLGFBQWFJLEdBQUcsQ0FBQyxZQUFZO1FBRXBERyxRQUFRQyxHQUFHLENBQUMsQ0FBQyw0Q0FBNEMsRUFBRUwsT0FBTyxDQUFDO1FBRW5FLE9BQVFBO1lBQ04sS0FBSztnQkFDSCwrQkFBK0I7Z0JBQy9CLE1BQU1NLGlCQUFpQmIsNEZBQXdCQSxDQUFDYyxpQkFBaUIsQ0FBQ0w7Z0JBRWxFLE9BQU9WLHFEQUFZQSxDQUFDZ0IsSUFBSSxDQUFDO29CQUN2QkMsU0FBUztvQkFDVEMsTUFBTTt3QkFDSkMsVUFBVUw7d0JBQ1ZNLFNBQVM7NEJBQ1BDLGVBQWVQLGVBQWVRLE1BQU07NEJBQ3BDQyxrQkFBa0JULGVBQWVVLE1BQU0sQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRUMsUUFBUSxLQUFLLFlBQVlKLE1BQU07NEJBQzlFSyxjQUFjYixlQUFlVSxNQUFNLENBQUNDLENBQUFBLElBQUtBLEVBQUVDLFFBQVEsS0FBSyxRQUFRSixNQUFNOzRCQUN0RU0sZ0JBQWdCZCxlQUFlVSxNQUFNLENBQUNDLENBQUFBLElBQUtBLEVBQUVDLFFBQVEsS0FBSyxVQUFVSixNQUFNOzRCQUMxRU8sYUFBYWYsZUFBZVUsTUFBTSxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFQyxRQUFRLEtBQUssT0FBT0osTUFBTTt3QkFDdEU7d0JBQ0FRLFlBQVk7NEJBQ1ZDLFlBQVlqQixlQUFlVSxNQUFNLENBQUND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bkI7QUFDRjtBQUVBOztDQUVDLEdBQ0QsU0FBU2UsaUJBQWlCdEMsUUFBZTtJQUN2QyxNQUFNVyxhQUF3QyxDQUFDO0lBRS9DLElBQUlYLFlBQVk2QyxNQUFNQyxPQUFPLENBQUM5QyxXQUFXO1FBQ3ZDQSxTQUFTK0MsT0FBTyxDQUFDQyxDQUFBQTtZQUNmLElBQUlBLFFBQVFuQyxRQUFRLEVBQUU7Z0JBQ3BCRixVQUFVLENBQUNxQyxRQUFRbkMsUUFBUSxDQUFDLEdBQUcsQ0FBQ0YsVUFBVSxDQUFDcUMsUUFBUW5DLFFBQVEsQ0FBQyxJQUFJLEtBQUs7WUFDdkU7UUFDRjtJQUNGO0lBRUEsT0FBT29DLE9BQU9DLFdBQVcsQ0FDdkJELE9BQU9FLE9BQU8sQ0FBQ3hDLFlBQ1p5QyxJQUFJLENBQUMsQ0FBQyxHQUFFQyxFQUFFLEVBQUUsR0FBRUMsRUFBRSxHQUFLQSxJQUFJRCxHQUN6QmpCLEtBQUssQ0FBQyxHQUFHO0FBRWhCO0FBRUE7O0NBRUMsR0FDRCxTQUFTSyxzQkFBc0J6QyxRQUFlO0lBQzVDLE1BQU13QyxrQkFBa0IsSUFBSWU7SUFFNUIsSUFBSXZELFlBQVk2QyxNQUFNQyxPQUFPLENBQUM5QyxXQUFXO1FBQ3ZDQSxTQUFTK0MsT0FBTyxDQUFDQyxDQUFBQTtZQUNmLElBQUlBLFFBQVFSLGVBQWUsSUFBSUssTUFBTUMsT0FBTyxDQUFDRSxRQUFRUixlQUFlLEdBQUc7Z0JBQ3JFUSxRQUFRUixlQUFlLENBQUNPLE9BQU8sQ0FBQyxDQUFDUyxNQUFnQmhCLGdCQUFnQmlCLEdBQUcsQ0FBQ0Q7WUFDdkU7UUFDRjtJQUNGO0lBRUEsT0FBT1gsTUFBTWEsSUFBSSxDQUFDbEIsaUJBQWlCSixLQUFLLENBQUMsR0FBRztBQUM5QyIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbXBsaWFuY2UtaXEvLi9zcmMvYXBwL2FwaS9sZWFybmluZy9pbnNpZ2h0cy9yb3V0ZS50cz9jMTM5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29udGludW91cyBMZWFybmluZyBJbnNpZ2h0cyBBUElcbiAqIFByb3ZpZGVzIEFJLXBvd2VyZWQgaW5zaWdodHMgZnJvbSBhdWRpdCBsb2dzIGFuZCB1c2VyIGJlaGF2aW9yIHBhdHRlcm5zXG4gKi9cblxuaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IGNvbnRpbnVvdXNMZWFybmluZ0VuZ2luZSB9IGZyb20gJ0AvbGliL2xlYXJuaW5nL2NvbnRpbnVvdXNMZWFybmluZ0VuZ2luZSc7XG5cbi8vIEZvcmNlIGR5bmFtaWMgcmVuZGVyaW5nIGZvciB0aGlzIEFQSSByb3V0ZVxuZXhwb3J0IGNvbnN0IGR5bmFtaWMgPSBcImZvcmNlLWR5bmFtaWNcIjtcblxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgIGNvbnN0IGFjdGlvbiA9IHNlYXJjaFBhcmFtcy5nZXQoJ2FjdGlvbicpIHx8ICdpbnNpZ2h0cyc7XG4gICAgY29uc3QgbGltaXQgPSBwYXJzZUludChzZWFyY2hQYXJhbXMuZ2V0KCdsaW1pdCcpIHx8ICcyMCcpO1xuXG4gICAgY29uc29sZS5sb2coYENvbnRpbnVvdXMgTGVhcm5pbmcgQVBJIGNhbGxlZCB3aXRoIGFjdGlvbjogJHthY3Rpb259YCk7XG5cbiAgICBzd2l0Y2ggKGFjdGlvbikge1xuICAgICAgY2FzZSAnaW5zaWdodHMnOlxuICAgICAgICAvLyBHZXQgcmVjZW50IGxlYXJuaW5nIGluc2lnaHRzXG4gICAgICAgIGNvbnN0IHJlY2VudEluc2lnaHRzID0gY29udGludW91c0xlYXJuaW5nRW5naW5lLmdldFJlY2VudEluc2lnaHRzKGxpbWl0KTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBpbnNpZ2h0czogcmVjZW50SW5zaWdodHMsXG4gICAgICAgICAgICBzdW1tYXJ5OiB7XG4gICAgICAgICAgICAgIHRvdGFsSW5zaWdodHM6IHJlY2VudEluc2lnaHRzLmxlbmd0aCxcbiAgICAgICAgICAgICAgY3JpdGljYWxJbnNpZ2h0czogcmVjZW50SW5zaWdodHMuZmlsdGVyKGkgPT4gaS5zZXZlcml0eSA9PT0gJ2NyaXRpY2FsJykubGVuZ3RoLFxuICAgICAgICAgICAgICBoaWdoSW5zaWdodHM6IHJlY2VudEluc2lnaHRzLmZpbHRlcihpID0+IGkuc2V2ZXJpdHkgPT09ICdoaWdoJykubGVuZ3RoLFxuICAgICAgICAgICAgICBtZWRpdW1JbnNpZ2h0czogcmVjZW50SW5zaWdodHMuZmlsdGVyKGkgPT4gaS5zZXZlcml0eSA9PT0gJ21lZGl1bScpLmxlbmd0aCxcbiAgICAgICAgICAgICAgbG93SW5zaWdodHM6IHJlY2VudEluc2lnaHRzLmZpbHRlcihpID0+IGkuc2V2ZXJpdHkgPT09ICdsb3cnKS5sZW5ndGhcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYXRlZ29yaWVzOiB7XG4gICAgICAgICAgICAgIGFzc2Vzc21lbnQ6IHJlY2VudEluc2lnaHRzLmZpbHRlcihpID0+IGkuY2F0ZWdvcnkgPT09ICdhc3Nlc3NtZW50JykubGVuZ3RoLFxuICAgICAgICAgICAgICB1c2VyX2JlaGF2aW9yOiByZWNlbnRJbnNpZ2h0cy5maWx0ZXIoaSA9PiBpLmNhdGVnb3J5ID09PSAndXNlcl9iZWhhdmlvcicpLmxlbmd0aCxcbiAgICAgICAgICAgICAgc3lzdGVtX3BlcmZvcm1hbmNlOiByZWNlbnRJbnNpZ2h0cy5maWx0ZXIoaSA9PiBpLmNhdGVnb3J5ID09PSAnc3lzdGVtX3BlcmZvcm1hbmNlJykubGVuZ3RoLFxuICAgICAgICAgICAgICBjb21wbGlhbmNlOiByZWNlbnRJbnNpZ2h0cy5maWx0ZXIoaSA9PiBpLmNhdGVnb3J5ID09PSAnY29tcGxpYW5jZScpLmxlbmd0aFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgfSk7XG5cbiAgICAgIGNhc2UgJ2N5Y2xlJzpcbiAgICAgICAgLy8gUnVuIGEgbmV3IGxlYXJuaW5nIGN5Y2xlXG4gICAgICAgIGNvbnNvbGUubG9nKCdSdW5uaW5nIG5ldyBsZWFybmluZyBjeWNsZS4uLicpO1xuICAgICAgICBjb25zdCBsZWFybmluZ0N5Y2xlID0gYXdhaXQgY29udGludW91c0xlYXJuaW5nRW5naW5lLnJ1bkxlYXJuaW5nQ3ljbGUoKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICBkYXRhOiBsZWFybmluZ0N5Y2xlLFxuICAgICAgICAgIG1lc3NhZ2U6IGBMZWFybmluZyBjeWNsZSAke2xlYXJuaW5nQ3ljbGUuc3RhdHVzID09PSAnY29tcGxldGVkJyA/ICdjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5JyA6ICdmYWlsZWQnfWAsXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgfSk7XG5cbiAgICAgIGNhc2UgJ2hpc3RvcnknOlxuICAgICAgICAvLyBHZXQgbGVhcm5pbmcgY3ljbGUgaGlzdG9yeVxuICAgICAgICBjb25zdCBsZWFybmluZ0hpc3RvcnkgPSBjb250aW51b3VzTGVhcm5pbmdFbmdpbmUuZ2V0TGVhcm5pbmdIaXN0b3J5KCk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgY3ljbGVzOiBsZWFybmluZ0hpc3RvcnksXG4gICAgICAgICAgICBzdW1tYXJ5OiB7XG4gICAgICAgICAgICAgIHRvdGFsQ3ljbGVzOiBsZWFybmluZ0hpc3RvcnkubGVuZ3RoLFxuICAgICAgICAgICAgICBjb21wbGV0ZWRDeWNsZXM6IGxlYXJuaW5nSGlzdG9yeS5maWx0ZXIoYyA9PiBjLnN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcpLmxlbmd0aCxcbiAgICAgICAgICAgICAgZmFpbGVkQ3ljbGVzOiBsZWFybmluZ0hpc3RvcnkuZmlsdGVyKGMgPT4gYy5zdGF0dXMgPT09ICdmYWlsZWQnKS5sZW5ndGgsXG4gICAgICAgICAgICAgIHRvdGFsSW5zaWdodHNHZW5lcmF0ZWQ6IGxlYXJuaW5nSGlzdG9yeS5yZWR1Y2UoKHN1bSwgYykgPT4gc3VtICsgYy5zdW1tYXJ5LnRvdGFsSW5zaWdodHMsIDApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICB9KTtcblxuICAgICAgY2FzZSAnc3VtbWFyeSc6XG4gICAgICAgIC8vIEdldCBsZWFybmluZyBzdW1tYXJ5XG4gICAgICAgIGNvbnN0IGhpc3RvcnkgPSBjb250aW51b3VzTGVhcm5pbmdFbmdpbmUuZ2V0TGVhcm5pbmdIaXN0b3J5KCk7XG4gICAgICAgIGNvbnN0IGluc2lnaHRzID0gY29udGludW91c0xlYXJuaW5nRW5naW5lLmdldFJlY2VudEluc2lnaHRzKDUwKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHN1bW1hcnkgPSB7XG4gICAgICAgICAgdG90YWxDeWNsZXM6IGhpc3RvcnkubGVuZ3RoLFxuICAgICAgICAgIGxhc3RDeWNsZTogaGlzdG9yeVswXSB8fCBudWxsLFxuICAgICAgICAgIHJlY2VudEluc2lnaHRzOiBpbnNpZ2h0cy5zbGljZSgwLCAxMCksXG4gICAgICAgICAgdG9wQ2F0ZWdvcmllczogZ2V0VG9wQ2F0ZWdvcmllcyhpbnNpZ2h0cyksXG4gICAgICAgICAgY3JpdGljYWxJc3N1ZXM6IGluc2lnaHRzLmZpbHRlcihpID0+IGkuc2V2ZXJpdHkgPT09ICdjcml0aWNhbCcpLmxlbmd0aCxcbiAgICAgICAgICByZWNvbW1lbmRhdGlvbnM6IGdldEFsbFJlY29tbWVuZGF0aW9ucyhpbnNpZ2h0cylcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICBkYXRhOiBzdW1tYXJ5LFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgIH0pO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiAnSW52YWxpZCBhY3Rpb24gcGFyYW1ldGVyLiBTdXBwb3J0ZWQgYWN0aW9uczogaW5zaWdodHMsIGN5Y2xlLCBoaXN0b3J5LCBzdW1tYXJ5J1xuICAgICAgICB9LCB7IHN0YXR1czogNDAwIH0pO1xuICAgIH1cblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGNvbnRpbnVvdXMgbGVhcm5pbmcgQVBJOicsIGVycm9yKTtcbiAgICBcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogJ0ZhaWxlZCB0byByZXRyaWV2ZSBsZWFybmluZyBpbnNpZ2h0cycsXG4gICAgICBkZXRhaWxzOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ1xuICAgIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBHZXQgdG9wIGNhdGVnb3JpZXMgZnJvbSBpbnNpZ2h0c1xuICovXG5mdW5jdGlvbiBnZXRUb3BDYXRlZ29yaWVzKGluc2lnaHRzOiBhbnlbXSk6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0ge1xuICBjb25zdCBjYXRlZ29yaWVzOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9ID0ge307XG4gIFxuICBpZiAoaW5zaWdodHMgJiYgQXJyYXkuaXNBcnJheShpbnNpZ2h0cykpIHtcbiAgICBpbnNpZ2h0cy5mb3JFYWNoKGluc2lnaHQgPT4ge1xuICAgICAgaWYgKGluc2lnaHQuY2F0ZWdvcnkpIHtcbiAgICAgICAgY2F0ZWdvcmllc1tpbnNpZ2h0LmNhdGVnb3J5XSA9IChjYXRlZ29yaWVzW2luc2lnaHQuY2F0ZWdvcnldIHx8IDApICsgMTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBcbiAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICBPYmplY3QuZW50cmllcyhjYXRlZ29yaWVzKVxuICAgICAgLnNvcnQoKFssYV0sIFssYl0pID0+IGIgLSBhKVxuICAgICAgLnNsaWNlKDAsIDUpXG4gICk7XG59XG5cbi8qKlxuICogR2V0IGFsbCByZWNvbW1lbmRhdGlvbnMgZnJvbSBpbnNpZ2h0c1xuICovXG5mdW5jdGlvbiBnZXRBbGxSZWNvbW1lbmRhdGlvbnMoaW5zaWdodHM6IGFueVtdKTogc3RyaW5nW10ge1xuICBjb25zdCByZWNvbW1lbmRhdGlvbnMgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgXG4gIGlmIChpbnNpZ2h0cyAmJiBBcnJheS5pc0FycmF5KGluc2lnaHRzKSkge1xuICAgIGluc2lnaHRzLmZvckVhY2goaW5zaWdodCA9PiB7XG4gICAgICBpZiAoaW5zaWdodC5yZWNvbW1lbmRhdGlvbnMgJiYgQXJyYXkuaXNBcnJheShpbnNpZ2h0LnJlY29tbWVuZGF0aW9ucykpIHtcbiAgICAgICAgaW5zaWdodC5yZWNvbW1lbmRhdGlvbnMuZm9yRWFjaCgocmVjOiBzdHJpbmcpID0+IHJlY29tbWVuZGF0aW9ucy5hZGQocmVjKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgXG4gIHJldHVybiBBcnJheS5mcm9tKHJlY29tbWVuZGF0aW9ucykuc2xpY2UoMCwgMjApO1xufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImNvbnRpbnVvdXNMZWFybmluZ0VuZ2luZSIsImR5bmFtaWMiLCJHRVQiLCJyZXF1ZXN0Iiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidXJsIiwiYWN0aW9uIiwiZ2V0IiwibGltaXQiLCJwYXJzZUludCIsImNvbnNvbGUiLCJsb2ciLCJyZWNlbnRJbnNpZ2h0cyIsImdldFJlY2VudEluc2lnaHRzIiwianNvbiIsInN1Y2Nlc3MiLCJkYXRhIiwiaW5zaWdodHMiLCJzdW1tYXJ5IiwidG90YWxJbnNpZ2h0cyIsImxlbmd0aCIsImNyaXRpY2FsSW5zaWdodHMiLCJmaWx0ZXIiLCJpIiwic2V2ZXJpdHkiLCJoaWdoSW5zaWdodHMiLCJtZWRpdW1JbnNpZ2h0cyIsImxvd0luc2lnaHRzIiwiY2F0ZWdvcmllcyIsImFzc2Vzc21lbnQiLCJjYXRlZ29yeSIsInVzZXJfYmVoYXZpb3IiLCJzeXN0ZW1fcGVyZm9ybWFuY2UiLCJjb21wbGlhbmNlIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwibGVhcm5pbmdDeWNsZSIsInJ1bkxlYXJuaW5nQ3ljbGUiLCJtZXNzYWdlIiwic3RhdHVzIiwibGVhcm5pbmdIaXN0b3J5IiwiZ2V0TGVhcm5pbmdIaXN0b3J5IiwiY3ljbGVzIiwidG90YWxDeWNsZXMiLCJjb21wbGV0ZWRDeWNsZXMiLCJjIiwiZmFpbGVkQ3ljbGVzIiwidG90YWxJbnNpZ2h0c0dlbmVyYXRlZCIsInJlZHVjZSIsInN1bSIsImhpc3RvcnkiLCJsYXN0Q3ljbGUiLCJzbGljZSIsInRvcENhdGVnb3JpZXMiLCJnZXRUb3BDYXRlZ29yaWVzIiwiY3JpdGljYWxJc3N1ZXMiLCJyZWNvbW1lbmRhdGlvbnMiLCJnZXRBbGxSZWNvbW1lbmRhdGlvbnMiLCJlcnJvciIsImRldGFpbHMiLCJFcnJvciIsIkFycmF5IiwiaXNBcnJheSIsImZvckVhY2giLCJpbnNpZ2h0IiwiT2JqZWN0IiwiZnJvbUVudHJpZXMiLCJlbnRyaWVzIiwic29ydCIsImEiLCJiIiwiU2V0IiwicmVjIiwiYWRkIiwiZnJvbSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/learning/insights/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/learning/continuousLearningEngine.ts":
/*!******************************************************!*\
  !*** ./src/lib/learning/continuousLearningEngine.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ContinuousLearningEngine: () => (/* binding */ ContinuousLearningEngine),\n/* harmony export */   continuousLearningEngine: () => (/* binding */ continuousLearningEngine)\n/* harmony export */ });\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./src/lib/prisma.ts\");\n/**\n * Continuous Learning Engine\n * Analyzes audit logs and assessment patterns to improve system intelligence\n */ \n/**\n * Continuous Learning Engine for system improvement\n */ class ContinuousLearningEngine {\n    /**\n   * Run a complete learning cycle analyzing recent data\n   */ async runLearningCycle() {\n        const cycleId = `cycle_${Date.now()}`;\n        const startTime = new Date();\n        console.log(`Starting learning cycle: ${cycleId}`);\n        try {\n            // Analyze different data sources\n            const [assessmentInsights, userBehaviorInsights, systemPerformanceInsights, complianceInsights] = await Promise.all([\n                this.analyzeAssessmentPatterns(),\n                this.analyzeUserBehavior(),\n                this.analyzeSystemPerformance(),\n                this.analyzeCompliancePatterns()\n            ]);\n            const allInsights = [\n                ...assessmentInsights,\n                ...userBehaviorInsights,\n                ...systemPerformanceInsights,\n                ...complianceInsights\n            ];\n            const cycle = {\n                id: cycleId,\n                startTime,\n                endTime: new Date(),\n                status: \"completed\",\n                insights: allInsights,\n                summary: {\n                    totalInsights: allInsights.length,\n                    criticalInsights: allInsights.filter((i)=>i.severity === \"critical\").length,\n                    highImpactInsights: allInsights.filter((i)=>i.severity === \"high\").length,\n                    recommendationsGenerated: allInsights.reduce((sum, i)=>sum + i.recommendations.length, 0)\n                }\n            };\n            this.addLearningCycle(cycle);\n            console.log(`Learning cycle completed: ${cycleId} - ${allInsights.length} insights generated`);\n            return cycle;\n        } catch (error) {\n            console.error(`Learning cycle failed: ${cycleId}`, error);\n            const failedCycle = {\n                id: cycleId,\n                startTime,\n                endTime: new Date(),\n                status: \"failed\",\n                insights: [],\n                summary: {\n                    totalInsights: 0,\n                    criticalInsights: 0,\n                    highImpactInsights: 0,\n                    recommendationsGenerated: 0\n                }\n            };\n            this.addLearningCycle(failedCycle);\n            return failedCycle;\n        }\n    }\n    /**\n   * Analyze assessment patterns for optimization opportunities\n   */ async analyzeAssessmentPatterns() {\n        const insights = [];\n        try {\n            // Get recent assessment responses\n            const recentResponses = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.assessmentResponse.findMany({\n                include: {\n                    version: {\n                        include: {\n                            assessment: true\n                        }\n                    }\n                },\n                where: {\n                    createdAt: {\n                        gte: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000) // Last 7 days\n                    }\n                },\n                take: 1000\n            });\n            if (recentResponses.length === 0) {\n                return insights;\n            }\n            // Analyze response patterns by section\n            const sectionAnalysis = this.analyzeSectionPatterns(recentResponses);\n            // Generate insights from patterns\n            for (const [sectionId, analysis] of Object.entries(sectionAnalysis)){\n                if (analysis.difficultyScore > 80) {\n                    insights.push({\n                        id: `assessment_difficulty_${sectionId}`,\n                        type: \"optimization\",\n                        category: \"assessment\",\n                        severity: \"medium\",\n                        title: `High Difficulty Detected in Section: ${sectionId}`,\n                        description: `Section ${sectionId} shows high difficulty with ${analysis.difficultyScore}% complexity score`,\n                        data: analysis,\n                        recommendations: [\n                            \"Consider breaking down complex questions into smaller parts\",\n                            \"Add more detailed guidance and examples\",\n                            \"Provide interactive tooltips for technical terms\",\n                            \"Create video walkthroughs for complex sections\"\n                        ],\n                        confidence: 85,\n                        timestamp: new Date(),\n                        impact: {\n                            users: analysis.totalUsers,\n                            assessments: analysis.totalAssessments,\n                            performance: analysis.difficultyScore\n                        }\n                    });\n                }\n                if (analysis.completionRate < 60) {\n                    insights.push({\n                        id: `assessment_completion_${sectionId}`,\n                        type: \"pattern\",\n                        category: \"assessment\",\n                        severity: \"high\",\n                        title: `Low Completion Rate in Section: ${sectionId}`,\n                        description: `Only ${analysis.completionRate}% of users complete section ${sectionId}`,\n                        data: analysis,\n                        recommendations: [\n                            \"Investigate common dropoff points\",\n                            \"Simplify question flow and reduce cognitive load\",\n                            \"Add progress indicators and motivation elements\",\n                            \"Provide section-specific help resources\"\n                        ],\n                        confidence: 90,\n                        timestamp: new Date(),\n                        impact: {\n                            users: analysis.totalUsers,\n                            assessments: analysis.totalAssessments,\n                            performance: 100 - analysis.completionRate\n                        }\n                    });\n                }\n            }\n            // Analyze response time patterns\n            const avgResponseTime = this.calculateAverageResponseTime(recentResponses);\n            if (avgResponseTime > 300) {\n                insights.push({\n                    id: \"assessment_response_time\",\n                    type: \"optimization\",\n                    category: \"assessment\",\n                    severity: \"medium\",\n                    title: \"High Average Response Time Detected\",\n                    description: `Users are taking ${Math.round(avgResponseTime)} seconds on average to respond to questions`,\n                    data: {\n                        avgResponseTime,\n                        totalResponses: recentResponses.length\n                    },\n                    recommendations: [\n                        \"Review question clarity and complexity\",\n                        \"Add time estimates for each section\",\n                        \"Implement auto-save functionality\",\n                        \"Provide quick reference materials\"\n                    ],\n                    confidence: 75,\n                    timestamp: new Date(),\n                    impact: {\n                        users: new Set(recentResponses.map((r)=>r.version.assessment.tenantId || \"unknown\")).size,\n                        assessments: recentResponses.length,\n                        performance: avgResponseTime\n                    }\n                });\n            }\n        } catch (error) {\n            console.error(\"Error analyzing assessment patterns:\", error);\n        }\n        return insights;\n    }\n    /**\n   * Analyze user behavior patterns\n   */ async analyzeUserBehavior() {\n        const insights = [];\n        try {\n            // Get recent assessment versions to analyze user behavior\n            const recentVersions = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.assessmentVersion.findMany({\n                include: {\n                    assessment: true,\n                    responses: true\n                },\n                where: {\n                    createdAt: {\n                        gte: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000) // Last 7 days\n                    }\n                },\n                take: 500\n            });\n            if (recentVersions.length === 0) {\n                return insights;\n            }\n            // Analyze session patterns\n            const sessionAnalysis = this.analyzeSessionPatterns(recentVersions);\n            // Generate insights from user behavior\n            if (sessionAnalysis.avgSessionTime < 300) {\n                insights.push({\n                    id: \"user_session_time\",\n                    type: \"pattern\",\n                    category: \"user_behavior\",\n                    severity: \"medium\",\n                    title: \"Short User Sessions Detected\",\n                    description: `Average session time is only ${Math.round(sessionAnalysis.avgSessionTime)} seconds`,\n                    data: sessionAnalysis,\n                    recommendations: [\n                        \"Implement progressive disclosure to reduce initial overwhelm\",\n                        \"Add quick-start options for experienced users\",\n                        \"Create guided onboarding flow\",\n                        \"Provide session resumption capabilities\"\n                    ],\n                    confidence: 80,\n                    timestamp: new Date(),\n                    impact: {\n                        users: sessionAnalysis.totalUsers,\n                        assessments: recentVersions.length,\n                        performance: sessionAnalysis.avgSessionTime\n                    }\n                });\n            }\n            // Analyze completion patterns\n            if (sessionAnalysis.completionRate < 70) {\n                insights.push({\n                    id: \"user_completion_rate\",\n                    type: \"anomaly\",\n                    category: \"user_behavior\",\n                    severity: \"high\",\n                    title: \"Low Overall Completion Rate\",\n                    description: `Only ${sessionAnalysis.completionRate}% of users complete their assessments`,\n                    data: sessionAnalysis,\n                    recommendations: [\n                        \"Implement gamification elements\",\n                        \"Add milestone celebrations\",\n                        \"Provide personalized progress tracking\",\n                        \"Create accountability features\"\n                    ],\n                    confidence: 85,\n                    timestamp: new Date(),\n                    impact: {\n                        users: sessionAnalysis.totalUsers,\n                        assessments: recentVersions.length,\n                        performance: 100 - sessionAnalysis.completionRate\n                    }\n                });\n            }\n        } catch (error) {\n            console.error(\"Error analyzing user behavior:\", error);\n        }\n        return insights;\n    }\n    /**\n   * Analyze system performance patterns\n   */ async analyzeSystemPerformance() {\n        const insights = [];\n        try {\n            // Get recent audit logs\n            const recentLogs = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.assessmentAuditLog.findMany({\n                where: {\n                    performedAt: {\n                        gte: new Date(Date.now() - 24 * 60 * 60 * 1000) // Last 24 hours\n                    }\n                },\n                take: 1000\n            });\n            if (recentLogs.length === 0) {\n                return insights;\n            }\n            // Analyze error patterns\n            const errorAnalysis = this.analyzeErrorPatterns(recentLogs);\n            if (errorAnalysis.errorRate > 0.05) {\n                insights.push({\n                    id: \"system_error_rate\",\n                    type: \"anomaly\",\n                    category: \"system_performance\",\n                    severity: \"high\",\n                    title: \"Elevated System Error Rate\",\n                    description: `System error rate is ${(errorAnalysis.errorRate * 100).toFixed(1)}%`,\n                    data: errorAnalysis,\n                    recommendations: [\n                        \"Investigate common error sources\",\n                        \"Implement better error handling\",\n                        \"Add system monitoring alerts\",\n                        \"Review recent code changes\"\n                    ],\n                    confidence: 90,\n                    timestamp: new Date(),\n                    impact: {\n                        users: errorAnalysis.affectedUsers,\n                        assessments: errorAnalysis.affectedAssessments,\n                        performance: errorAnalysis.errorRate * 100\n                    }\n                });\n            }\n            // Analyze performance patterns\n            const performanceAnalysis = this.analyzePerformancePatterns(recentLogs);\n            if (performanceAnalysis.avgResponseTime > 2000) {\n                insights.push({\n                    id: \"system_performance\",\n                    type: \"optimization\",\n                    category: \"system_performance\",\n                    severity: \"medium\",\n                    title: \"System Performance Degradation\",\n                    description: `Average response time is ${performanceAnalysis.avgResponseTime}ms`,\n                    data: performanceAnalysis,\n                    recommendations: [\n                        \"Optimize database queries\",\n                        \"Implement caching strategies\",\n                        \"Review server resources\",\n                        \"Add performance monitoring\"\n                    ],\n                    confidence: 75,\n                    timestamp: new Date(),\n                    impact: {\n                        users: performanceAnalysis.affectedUsers,\n                        assessments: performanceAnalysis.affectedAssessments,\n                        performance: performanceAnalysis.avgResponseTime\n                    }\n                });\n            }\n        } catch (error) {\n            console.error(\"Error analyzing system performance:\", error);\n        }\n        return insights;\n    }\n    /**\n   * Analyze compliance patterns\n   */ async analyzeCompliancePatterns() {\n        const insights = [];\n        try {\n            // Get recent assessment versions with compliance data\n            const recentVersions = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.assessmentVersion.findMany({\n                include: {\n                    assessment: true\n                },\n                where: {\n                    createdAt: {\n                        gte: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000) // Last 30 days\n                    }\n                },\n                take: 1000\n            });\n            if (recentVersions.length === 0) {\n                return insights;\n            }\n            // Analyze compliance score patterns\n            const complianceAnalysis = this.analyzeComplianceScores(recentVersions);\n            if (complianceAnalysis.avgComplianceScore < 60) {\n                insights.push({\n                    id: \"compliance_score_trend\",\n                    type: \"trend\",\n                    category: \"compliance\",\n                    severity: \"critical\",\n                    title: \"Low Compliance Scores Detected\",\n                    description: `Average compliance score is ${complianceAnalysis.avgComplianceScore}%`,\n                    data: complianceAnalysis,\n                    recommendations: [\n                        \"Review assessment criteria and scoring\",\n                        \"Provide better compliance guidance\",\n                        \"Implement compliance checkpoints\",\n                        \"Add regulatory expert consultation\"\n                    ],\n                    confidence: 95,\n                    timestamp: new Date(),\n                    impact: {\n                        users: complianceAnalysis.totalUsers,\n                        assessments: recentVersions.length,\n                        performance: 100 - complianceAnalysis.avgComplianceScore\n                    }\n                });\n            }\n        } catch (error) {\n            console.error(\"Error analyzing compliance patterns:\", error);\n        }\n        return insights;\n    }\n    /**\n   * Analyze section patterns from assessment responses\n   */ analyzeSectionPatterns(responses) {\n        const sectionData = {};\n        responses.forEach((response)=>{\n            const sectionId = response.questionId.split(\"_\")[0]; // Extract section from question ID\n            if (!sectionData[sectionId]) {\n                sectionData[sectionId] = {\n                    totalResponses: 0,\n                    completedResponses: 0,\n                    totalUsers: new Set(),\n                    totalAssessments: new Set(),\n                    responseTimes: [],\n                    difficultyScore: 0\n                };\n            }\n            const data = sectionData[sectionId];\n            data.totalResponses++;\n            if (response.isCompleted) {\n                data.completedResponses++;\n            }\n            data.totalUsers.add(response.version.assessment.tenantId || \"unknown\");\n            data.totalAssessments.add(response.versionId);\n            if (response.responseTime) {\n                data.responseTimes.push(response.responseTime);\n            }\n        });\n        // Calculate metrics for each section\n        Object.keys(sectionData).forEach((sectionId)=>{\n            const data = sectionData[sectionId];\n            data.totalUsers = data.totalUsers.size;\n            data.totalAssessments = data.totalAssessments.size;\n            data.completionRate = data.totalResponses > 0 ? data.completedResponses / data.totalResponses * 100 : 0;\n            data.avgResponseTime = data.responseTimes.length > 0 ? data.responseTimes.reduce((sum, time)=>sum + time, 0) / data.responseTimes.length : 0;\n            // Calculate difficulty score based on completion rate and response time\n            data.difficultyScore = Math.max(0, 100 - data.completionRate + data.avgResponseTime / 10);\n        });\n        return sectionData;\n    }\n    /**\n   * Analyze session patterns from assessment versions\n   */ analyzeSessionPatterns(versions) {\n        const totalSessions = versions.length;\n        const completedSessions = versions.filter((v)=>v.status === \"completed\").length;\n        const totalUsers = new Set(versions.map((v)=>v.assessment.tenantId || \"unknown\")).size;\n        // Calculate average session time (simplified)\n        const avgSessionTime = versions.reduce((sum, v)=>{\n            const startTime = new Date(v.createdAt).getTime();\n            const endTime = new Date(v.updatedAt).getTime();\n            return sum + (endTime - startTime) / 1000; // Convert to seconds\n        }, 0) / totalSessions;\n        return {\n            totalSessions,\n            completedSessions,\n            completionRate: completedSessions / totalSessions * 100,\n            totalUsers,\n            avgSessionTime\n        };\n    }\n    /**\n   * Analyze error patterns from audit logs\n   */ analyzeErrorPatterns(logs) {\n        const errorLogs = logs.filter((log)=>log.action === \"error\" || log.details?.includes(\"error\"));\n        const errorRate = logs.length > 0 ? errorLogs.length / logs.length : 0;\n        const affectedUsers = new Set(errorLogs.map((log)=>log.userId)).size;\n        const affectedAssessments = new Set(errorLogs.map((log)=>log.assessmentId)).size;\n        return {\n            totalLogs: logs.length,\n            errorLogs: errorLogs.length,\n            errorRate,\n            affectedUsers,\n            affectedAssessments\n        };\n    }\n    /**\n   * Analyze performance patterns from audit logs\n   */ analyzePerformancePatterns(logs) {\n        const performanceLogs = logs.filter((log)=>log.details?.includes(\"response_time\"));\n        const avgResponseTime = performanceLogs.length > 0 ? performanceLogs.reduce((sum, log)=>{\n            const responseTime = parseInt(log.details?.match(/response_time:(\\d+)/)?.[1] || \"0\");\n            return sum + responseTime;\n        }, 0) / performanceLogs.length : 0;\n        const affectedUsers = new Set(performanceLogs.map((log)=>log.userId)).size;\n        const affectedAssessments = new Set(performanceLogs.map((log)=>log.assessmentId)).size;\n        return {\n            avgResponseTime,\n            affectedUsers,\n            affectedAssessments\n        };\n    }\n    /**\n   * Analyze compliance scores from assessment versions\n   */ analyzeComplianceScores(versions) {\n        const scores = versions.map((v)=>v.totalScore || 0).filter((score)=>score > 0);\n        const avgComplianceScore = scores.length > 0 ? scores.reduce((sum, score)=>sum + score, 0) / scores.length : 0;\n        const totalUsers = new Set(versions.map((v)=>v.assessment.tenantId || \"unknown\")).size;\n        return {\n            totalAssessments: versions.length,\n            avgComplianceScore,\n            totalUsers,\n            scoreDistribution: {\n                excellent: scores.filter((s)=>s >= 90).length,\n                good: scores.filter((s)=>s >= 70 && s < 90).length,\n                fair: scores.filter((s)=>s >= 50 && s < 70).length,\n                poor: scores.filter((s)=>s < 50).length\n            }\n        };\n    }\n    /**\n   * Calculate average response time from responses\n   */ calculateAverageResponseTime(responses) {\n        const responseTimes = responses.map((r)=>r.responseTime).filter((time)=>time && time > 0);\n        return responseTimes.length > 0 ? responseTimes.reduce((sum, time)=>sum + time, 0) / responseTimes.length : 0;\n    }\n    /**\n   * Add learning cycle to history\n   */ addLearningCycle(cycle) {\n        this.learningCycles.push(cycle);\n        // Keep only recent cycles\n        if (this.learningCycles.length > this.maxCycles) {\n            this.learningCycles = this.learningCycles.slice(-this.maxCycles);\n        }\n    }\n    /**\n   * Get recent learning insights\n   */ getRecentInsights(limit = 20) {\n        const allInsights = this.learningCycles.filter((cycle)=>cycle.status === \"completed\").flatMap((cycle)=>cycle.insights).sort((a, b)=>b.timestamp.getTime() - a.timestamp.getTime());\n        // If no real insights, provide sample insights for demo\n        if (allInsights.length === 0) {\n            return this.getSampleInsights(limit);\n        }\n        return allInsights.slice(0, limit);\n    }\n    /**\n   * Get sample insights for demo purposes\n   */ getSampleInsights(limit) {\n        const sampleInsights = [\n            {\n                id: \"insight_001\",\n                type: \"pattern\",\n                category: \"assessment\",\n                severity: \"high\",\n                title: \"AI Model Validation Section Shows High Drop-off Rate\",\n                description: \"Users are abandoning assessments at the AI Model Validation section 65% of the time, indicating complexity issues\",\n                data: {\n                    sectionId: \"model-validation\",\n                    dropoffRate: 0.65,\n                    avgTimeSpent: 180,\n                    commonExitPoints: [\n                        \"bias-detection\",\n                        \"performance-monitoring\"\n                    ]\n                },\n                recommendations: [\n                    \"Break down complex validation requirements into smaller steps\",\n                    \"Add interactive tutorials for technical concepts\",\n                    \"Implement progress saving to reduce abandonment fear\"\n                ],\n                confidence: 87,\n                timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000),\n                impact: {\n                    users: 45,\n                    assessments: 32,\n                    performance: 65\n                }\n            },\n            {\n                id: \"insight_002\",\n                type: \"optimization\",\n                category: \"user_behavior\",\n                severity: \"medium\",\n                title: \"Data Science Persona Shows Highest Completion Rates\",\n                description: \"Users with Data Science background complete assessments 40% faster with 25% higher scores\",\n                data: {\n                    persona: \"Data Science\",\n                    avgCompletionTime: 1200,\n                    avgScore: 85,\n                    completionRate: 0.92\n                },\n                recommendations: [\n                    \"Create Data Science-specific assessment paths\",\n                    \"Leverage their expertise for peer mentoring programs\",\n                    \"Use their patterns to improve other persona experiences\"\n                ],\n                confidence: 92,\n                timestamp: new Date(Date.now() - 4 * 60 * 60 * 1000),\n                impact: {\n                    users: 23,\n                    assessments: 18,\n                    performance: 92\n                }\n            },\n            {\n                id: \"insight_003\",\n                type: \"trend\",\n                category: \"compliance\",\n                severity: \"critical\",\n                title: \"FDA AI Governance Compliance Scores Declining\",\n                description: \"Average compliance scores for FDA AI Governance have dropped 15% over the last month\",\n                data: {\n                    currentScore: 62,\n                    previousScore: 77,\n                    trendDirection: \"declining\",\n                    affectedRegulations: [\n                        \"FDA AI/ML Guidance\",\n                        \"21 CFR Part 11\"\n                    ]\n                },\n                recommendations: [\n                    \"Update FDA guidance materials with latest requirements\",\n                    \"Implement automated compliance checking\",\n                    \"Provide expert consultation for complex cases\"\n                ],\n                confidence: 95,\n                timestamp: new Date(Date.now() - 6 * 60 * 60 * 1000),\n                impact: {\n                    users: 67,\n                    assessments: 45,\n                    performance: 38\n                }\n            },\n            {\n                id: \"insight_004\",\n                type: \"anomaly\",\n                category: \"system_performance\",\n                severity: \"medium\",\n                title: \"Peak Usage Times Cause Response Delays\",\n                description: \"System response times increase by 40% during 2-4 PM EST, affecting user experience\",\n                data: {\n                    peakHours: [\n                        \"14:00-16:00\"\n                    ],\n                    avgResponseTime: 2400,\n                    normalResponseTime: 1700,\n                    affectedUsers: 89\n                },\n                recommendations: [\n                    \"Implement auto-scaling during peak hours\",\n                    \"Add load balancing for database queries\",\n                    \"Consider caching frequently accessed data\"\n                ],\n                confidence: 78,\n                timestamp: new Date(Date.now() - 8 * 60 * 60 * 1000),\n                impact: {\n                    users: 89,\n                    assessments: 56,\n                    performance: 41\n                }\n            },\n            {\n                id: \"insight_005\",\n                type: \"optimization\",\n                category: \"assessment\",\n                severity: \"low\",\n                title: \"Question Clarity Improvements Show Positive Results\",\n                description: \"Recent question rephrasing in Data Governance section increased completion rate by 18%\",\n                data: {\n                    sectionId: \"data-governance\",\n                    improvementRate: 0.18,\n                    beforeScore: 0.67,\n                    afterScore: 0.85\n                },\n                recommendations: [\n                    \"Apply similar clarity improvements to other sections\",\n                    \"Implement user feedback collection on question clarity\",\n                    \"Create question review process for new content\"\n                ],\n                confidence: 83,\n                timestamp: new Date(Date.now() - 12 * 60 * 60 * 1000),\n                impact: {\n                    users: 34,\n                    assessments: 28,\n                    performance: 82\n                }\n            }\n        ];\n        return sampleInsights.slice(0, limit);\n    }\n    /**\n   * Get learning cycle history\n   */ getLearningHistory() {\n        return this.learningCycles.sort((a, b)=>b.startTime.getTime() - a.startTime.getTime());\n    }\n    constructor(){\n        this.learningCycles = [];\n        this.maxCycles = 50;\n    }\n}\n// Export singleton instance\nconst continuousLearningEngine = new ContinuousLearningEngine();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2xlYXJuaW5nL2NvbnRpbnVvdXNMZWFybmluZ0VuZ2luZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7O0NBR0MsR0FFcUM7QUEyRHRDOztDQUVDLEdBQ00sTUFBTUM7SUFJWDs7R0FFQyxHQUNELE1BQWFDLG1CQUEyQztRQUN0RCxNQUFNQyxVQUFVLENBQUMsTUFBTSxFQUFFQyxLQUFLQyxHQUFHLEdBQUcsQ0FBQztRQUNyQyxNQUFNQyxZQUFZLElBQUlGO1FBRXRCRyxRQUFRQyxHQUFHLENBQUMsQ0FBQyx5QkFBeUIsRUFBRUwsUUFBUSxDQUFDO1FBRWpELElBQUk7WUFDRixpQ0FBaUM7WUFDakMsTUFBTSxDQUNKTSxvQkFDQUMsc0JBQ0FDLDJCQUNBQyxtQkFDRCxHQUFHLE1BQU1DLFFBQVFDLEdBQUcsQ0FBQztnQkFDcEIsSUFBSSxDQUFDQyx5QkFBeUI7Z0JBQzlCLElBQUksQ0FBQ0MsbUJBQW1CO2dCQUN4QixJQUFJLENBQUNDLHdCQUF3QjtnQkFDN0IsSUFBSSxDQUFDQyx5QkFBeUI7YUFDL0I7WUFFRCxNQUFNQyxjQUFjO21CQUNmVjttQkFDQUM7bUJBQ0FDO21CQUNBQzthQUNKO1lBRUQsTUFBTVEsUUFBdUI7Z0JBQzNCQyxJQUFJbEI7Z0JBQ0pHO2dCQUNBZ0IsU0FBUyxJQUFJbEI7Z0JBQ2JtQixRQUFRO2dCQUNSQyxVQUFVTDtnQkFDVk0sU0FBUztvQkFDUEMsZUFBZVAsWUFBWVEsTUFBTTtvQkFDakNDLGtCQUFrQlQsWUFBWVUsTUFBTSxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFQyxRQUFRLEtBQUssWUFBWUosTUFBTTtvQkFDM0VLLG9CQUFvQmIsWUFBWVUsTUFBTSxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFQyxRQUFRLEtBQUssUUFBUUosTUFBTTtvQkFDekVNLDBCQUEwQmQsWUFBWWUsTUFBTSxDQUFDLENBQUNDLEtBQUtMLElBQU1LLE1BQU1MLEVBQUVNLGVBQWUsQ0FBQ1QsTUFBTSxFQUFFO2dCQUMzRjtZQUNG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akI7Z0JBQ0EzRCxpQkFBaUI7b0JBQ2Y7b0JBQ0E7b0JBQ0E7aUJBQ0Q7Z0JBQ0QyQixZQUFZO2dCQUNaQyxXQUFXLElBQUk1RCxLQUFLQSxLQUFLQyxHQUFHLEtBQUssSUFBSSxLQUFLLEtBQUs7Z0JBQy9DNEQsUUFBUTtvQkFDTkMsT0FBTztvQkFDUEUsYUFBYTtvQkFDYkUsYUFBYTtnQkFDZjtZQUNGO1lBQ0E7Z0JBQ0VqRCxJQUFJO2dCQUNKcUMsTUFBTTtnQkFDTkMsVUFBVTtnQkFDVjVCLFVBQVU7Z0JBQ1Y2QixPQUFPO2dCQUNQQyxhQUFhO2dCQUNiQyxNQUFNO29CQUNKVixXQUFXO29CQUNYaUgsaUJBQWlCO29CQUNqQkMsYUFBYTtvQkFDYkMsWUFBWTtnQkFDZDtnQkFDQW5JLGlCQUFpQjtvQkFDZjtvQkFDQTtvQkFDQTtpQkFDRDtnQkFDRDJCLFlBQVk7Z0JBQ1pDLFdBQVcsSUFBSTVELEtBQUtBLEtBQUtDLEdBQUcsS0FBSyxLQUFLLEtBQUssS0FBSztnQkFDaEQ0RCxRQUFRO29CQUNOQyxPQUFPO29CQUNQRSxhQUFhO29CQUNiRSxhQUFhO2dCQUNmO1lBQ0Y7U0FDRDtRQUVELE9BQU9rRixlQUFlUixLQUFLLENBQUMsR0FBR0U7SUFDakM7SUFFQTs7R0FFQyxHQUNELHFCQUE2QztRQUMzQyxPQUFPLElBQUksQ0FBQ0osY0FBYyxDQUFDTSxJQUFJLENBQUMsQ0FBQ0MsR0FBR0MsSUFBTUEsRUFBRWhKLFNBQVMsQ0FBQ2tILE9BQU8sS0FBSzZCLEVBQUUvSSxTQUFTLENBQUNrSCxPQUFPO0lBQ3ZGOzthQTN1QlFzQixpQkFBa0MsRUFBRTthQUMzQkMsWUFBWTs7QUEydUIvQjtBQUVBLDRCQUE0QjtBQUNyQixNQUFNMEIsMkJBQTJCLElBQUl4SywyQkFBMkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb21wbGlhbmNlLWlxLy4vc3JjL2xpYi9sZWFybmluZy9jb250aW51b3VzTGVhcm5pbmdFbmdpbmUudHM/MWU4MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvbnRpbnVvdXMgTGVhcm5pbmcgRW5naW5lXG4gKiBBbmFseXplcyBhdWRpdCBsb2dzIGFuZCBhc3Nlc3NtZW50IHBhdHRlcm5zIHRvIGltcHJvdmUgc3lzdGVtIGludGVsbGlnZW5jZVxuICovXG5cbmltcG9ydCB7IHByaXNtYSB9IGZyb20gJ0AvbGliL3ByaXNtYSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGVhcm5pbmdJbnNpZ2h0IHtcbiAgaWQ6IHN0cmluZztcbiAgdHlwZTogJ3BhdHRlcm4nIHwgJ2Fub21hbHknIHwgJ29wdGltaXphdGlvbicgfCAndHJlbmQnO1xuICBjYXRlZ29yeTogJ2Fzc2Vzc21lbnQnIHwgJ3VzZXJfYmVoYXZpb3InIHwgJ3N5c3RlbV9wZXJmb3JtYW5jZScgfCAnY29tcGxpYW5jZSc7XG4gIHNldmVyaXR5OiAnbG93JyB8ICdtZWRpdW0nIHwgJ2hpZ2gnIHwgJ2NyaXRpY2FsJztcbiAgdGl0bGU6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgZGF0YTogYW55O1xuICByZWNvbW1lbmRhdGlvbnM6IHN0cmluZ1tdO1xuICBjb25maWRlbmNlOiBudW1iZXI7IC8vIDAtMTAwXG4gIHRpbWVzdGFtcDogRGF0ZTtcbiAgaW1wYWN0OiB7XG4gICAgdXNlcnM6IG51bWJlcjtcbiAgICBhc3Nlc3NtZW50czogbnVtYmVyO1xuICAgIHBlcmZvcm1hbmNlOiBudW1iZXI7XG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGVhcm5pbmdDeWNsZSB7XG4gIGlkOiBzdHJpbmc7XG4gIHN0YXJ0VGltZTogRGF0ZTtcbiAgZW5kVGltZTogRGF0ZTtcbiAgc3RhdHVzOiAncnVubmluZycgfCAnY29tcGxldGVkJyB8ICdmYWlsZWQnO1xuICBpbnNpZ2h0czogTGVhcm5pbmdJbnNpZ2h0W107XG4gIHN1bW1hcnk6IHtcbiAgICB0b3RhbEluc2lnaHRzOiBudW1iZXI7XG4gICAgY3JpdGljYWxJbnNpZ2h0czogbnVtYmVyO1xuICAgIGhpZ2hJbXBhY3RJbnNpZ2h0czogbnVtYmVyO1xuICAgIHJlY29tbWVuZGF0aW9uc0dlbmVyYXRlZDogbnVtYmVyO1xuICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJCZWhhdmlvclBhdHRlcm4ge1xuICB1c2VySWQ6IHN0cmluZztcbiAgcGF0dGVybnM6IHtcbiAgICBhc3Nlc3NtZW50Rmxvdzogc3RyaW5nW107XG4gICAgY29tbW9uRHJvcG9mZlBvaW50czogc3RyaW5nW107XG4gICAgcHJlZmVycmVkU2VjdGlvbnM6IHN0cmluZ1tdO1xuICAgIGF2Z1Nlc3Npb25UaW1lOiBudW1iZXI7XG4gICAgaGVscFJlcXVlc3RzOiBudW1iZXI7XG4gICAgY29tcGxldGlvblJhdGU6IG51bWJlcjtcbiAgfTtcbiAgcmVjb21tZW5kYXRpb25zOiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBc3Nlc3NtZW50UGF0dGVybiB7XG4gIHNlY3Rpb25JZDogc3RyaW5nO1xuICBwYXR0ZXJuczoge1xuICAgIGNvbW1vblJlc3BvbnNlczogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfTtcbiAgICBmYWlsdXJlUG9pbnRzOiBzdHJpbmdbXTtcbiAgICBhdmdDb21wbGV0aW9uVGltZTogbnVtYmVyO1xuICAgIGRpZmZpY3VsdHlTY29yZTogbnVtYmVyO1xuICAgIHVzZXJTYXRpc2ZhY3Rpb246IG51bWJlcjtcbiAgfTtcbiAgb3B0aW1pemF0aW9uczogc3RyaW5nW107XG59XG5cbi8qKlxuICogQ29udGludW91cyBMZWFybmluZyBFbmdpbmUgZm9yIHN5c3RlbSBpbXByb3ZlbWVudFxuICovXG5leHBvcnQgY2xhc3MgQ29udGludW91c0xlYXJuaW5nRW5naW5lIHtcbiAgcHJpdmF0ZSBsZWFybmluZ0N5Y2xlczogTGVhcm5pbmdDeWNsZVtdID0gW107XG4gIHByaXZhdGUgcmVhZG9ubHkgbWF4Q3ljbGVzID0gNTA7XG5cbiAgLyoqXG4gICAqIFJ1biBhIGNvbXBsZXRlIGxlYXJuaW5nIGN5Y2xlIGFuYWx5emluZyByZWNlbnQgZGF0YVxuICAgKi9cbiAgcHVibGljIGFzeW5jIHJ1bkxlYXJuaW5nQ3ljbGUoKTogUHJvbWlzZTxMZWFybmluZ0N5Y2xlPiB7XG4gICAgY29uc3QgY3ljbGVJZCA9IGBjeWNsZV8ke0RhdGUubm93KCl9YDtcbiAgICBjb25zdCBzdGFydFRpbWUgPSBuZXcgRGF0ZSgpO1xuXG4gICAgY29uc29sZS5sb2coYFN0YXJ0aW5nIGxlYXJuaW5nIGN5Y2xlOiAke2N5Y2xlSWR9YCk7XG5cbiAgICB0cnkge1xuICAgICAgLy8gQW5hbHl6ZSBkaWZmZXJlbnQgZGF0YSBzb3VyY2VzXG4gICAgICBjb25zdCBbXG4gICAgICAgIGFzc2Vzc21lbnRJbnNpZ2h0cyxcbiAgICAgICAgdXNlckJlaGF2aW9ySW5zaWdodHMsXG4gICAgICAgIHN5c3RlbVBlcmZvcm1hbmNlSW5zaWdodHMsXG4gICAgICAgIGNvbXBsaWFuY2VJbnNpZ2h0c1xuICAgICAgXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgdGhpcy5hbmFseXplQXNzZXNzbWVudFBhdHRlcm5zKCksXG4gICAgICAgIHRoaXMuYW5hbHl6ZVVzZXJCZWhhdmlvcigpLFxuICAgICAgICB0aGlzLmFuYWx5emVTeXN0ZW1QZXJmb3JtYW5jZSgpLFxuICAgICAgICB0aGlzLmFuYWx5emVDb21wbGlhbmNlUGF0dGVybnMoKVxuICAgICAgXSk7XG5cbiAgICAgIGNvbnN0IGFsbEluc2lnaHRzID0gW1xuICAgICAgICAuLi5hc3Nlc3NtZW50SW5zaWdodHMsXG4gICAgICAgIC4uLnVzZXJCZWhhdmlvckluc2lnaHRzLFxuICAgICAgICAuLi5zeXN0ZW1QZXJmb3JtYW5jZUluc2lnaHRzLFxuICAgICAgICAuLi5jb21wbGlhbmNlSW5zaWdodHNcbiAgICAgIF07XG5cbiAgICAgIGNvbnN0IGN5Y2xlOiBMZWFybmluZ0N5Y2xlID0ge1xuICAgICAgICBpZDogY3ljbGVJZCxcbiAgICAgICAgc3RhcnRUaW1lLFxuICAgICAgICBlbmRUaW1lOiBuZXcgRGF0ZSgpLFxuICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnLFxuICAgICAgICBpbnNpZ2h0czogYWxsSW5zaWdodHMsXG4gICAgICAgIHN1bW1hcnk6IHtcbiAgICAgICAgICB0b3RhbEluc2lnaHRzOiBhbGxJbnNpZ2h0cy5sZW5ndGgsXG4gICAgICAgICAgY3JpdGljYWxJbnNpZ2h0czogYWxsSW5zaWdodHMuZmlsdGVyKGkgPT4gaS5zZXZlcml0eSA9PT0gJ2NyaXRpY2FsJykubGVuZ3RoLFxuICAgICAgICAgIGhpZ2hJbXBhY3RJbnNpZ2h0czogYWxsSW5zaWdodHMuZmlsdGVyKGkgPT4gaS5zZXZlcml0eSA9PT0gJ2hpZ2gnKS5sZW5ndGgsXG4gICAgICAgICAgcmVjb21tZW5kYXRpb25zR2VuZXJhdGVkOiBhbGxJbnNpZ2h0cy5yZWR1Y2UoKHN1bSwgaSkgPT4gc3VtICsgaS5yZWNvbW1lbmRhdGlvbnMubGVuZ3RoLCAwKVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmFkZExlYXJuaW5nQ3ljbGUoY3ljbGUpO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhgTGVhcm5pbmcgY3ljbGUgY29tcGxldGVkOiAke2N5Y2xlSWR9IC0gJHthbGxJbnNpZ2h0cy5sZW5ndGh9IGluc2lnaHRzIGdlbmVyYXRlZGApO1xuICAgICAgXG4gICAgICByZXR1cm4gY3ljbGU7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgTGVhcm5pbmcgY3ljbGUgZmFpbGVkOiAke2N5Y2xlSWR9YCwgZXJyb3IpO1xuICAgICAgXG4gICAgICBjb25zdCBmYWlsZWRDeWNsZTogTGVhcm5pbmdDeWNsZSA9IHtcbiAgICAgICAgaWQ6IGN5Y2xlSWQsXG4gICAgICAgIHN0YXJ0VGltZSxcbiAgICAgICAgZW5kVGltZTogbmV3IERhdGUoKSxcbiAgICAgICAgc3RhdHVzOiAnZmFpbGVkJyxcbiAgICAgICAgaW5zaWdodHM6IFtdLFxuICAgICAgICBzdW1tYXJ5OiB7XG4gICAgICAgICAgdG90YWxJbnNpZ2h0czogMCxcbiAgICAgICAgICBjcml0aWNhbEluc2lnaHRzOiAwLFxuICAgICAgICAgIGhpZ2hJbXBhY3RJbnNpZ2h0czogMCxcbiAgICAgICAgICByZWNvbW1lbmRhdGlvbnNHZW5lcmF0ZWQ6IDBcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdGhpcy5hZGRMZWFybmluZ0N5Y2xlKGZhaWxlZEN5Y2xlKTtcbiAgICAgIHJldHVybiBmYWlsZWRDeWNsZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQW5hbHl6ZSBhc3Nlc3NtZW50IHBhdHRlcm5zIGZvciBvcHRpbWl6YXRpb24gb3Bwb3J0dW5pdGllc1xuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBhbmFseXplQXNzZXNzbWVudFBhdHRlcm5zKCk6IFByb21pc2U8TGVhcm5pbmdJbnNpZ2h0W10+IHtcbiAgICBjb25zdCBpbnNpZ2h0czogTGVhcm5pbmdJbnNpZ2h0W10gPSBbXTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBHZXQgcmVjZW50IGFzc2Vzc21lbnQgcmVzcG9uc2VzXG4gICAgICBjb25zdCByZWNlbnRSZXNwb25zZXMgPSBhd2FpdCBwcmlzbWEuYXNzZXNzbWVudFJlc3BvbnNlLmZpbmRNYW55KHtcbiAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgIHZlcnNpb246IHtcbiAgICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgICAgYXNzZXNzbWVudDogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICBjcmVhdGVkQXQ6IHtcbiAgICAgICAgICAgIGd0ZTogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDcgKiAyNCAqIDYwICogNjAgKiAxMDAwKSAvLyBMYXN0IDcgZGF5c1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdGFrZTogMTAwMFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChyZWNlbnRSZXNwb25zZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBpbnNpZ2h0cztcbiAgICAgIH1cblxuICAgICAgLy8gQW5hbHl6ZSByZXNwb25zZSBwYXR0ZXJucyBieSBzZWN0aW9uXG4gICAgICBjb25zdCBzZWN0aW9uQW5hbHlzaXMgPSB0aGlzLmFuYWx5emVTZWN0aW9uUGF0dGVybnMocmVjZW50UmVzcG9uc2VzKTtcbiAgICAgIFxuICAgICAgLy8gR2VuZXJhdGUgaW5zaWdodHMgZnJvbSBwYXR0ZXJuc1xuICAgICAgZm9yIChjb25zdCBbc2VjdGlvbklkLCBhbmFseXNpc10gb2YgT2JqZWN0LmVudHJpZXMoc2VjdGlvbkFuYWx5c2lzKSkge1xuICAgICAgICBpZiAoYW5hbHlzaXMuZGlmZmljdWx0eVNjb3JlID4gODApIHtcbiAgICAgICAgICBpbnNpZ2h0cy5wdXNoKHtcbiAgICAgICAgICAgIGlkOiBgYXNzZXNzbWVudF9kaWZmaWN1bHR5XyR7c2VjdGlvbklkfWAsXG4gICAgICAgICAgICB0eXBlOiAnb3B0aW1pemF0aW9uJyxcbiAgICAgICAgICAgIGNhdGVnb3J5OiAnYXNzZXNzbWVudCcsXG4gICAgICAgICAgICBzZXZlcml0eTogJ21lZGl1bScsXG4gICAgICAgICAgICB0aXRsZTogYEhpZ2ggRGlmZmljdWx0eSBEZXRlY3RlZCBpbiBTZWN0aW9uOiAke3NlY3Rpb25JZH1gLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGBTZWN0aW9uICR7c2VjdGlvbklkfSBzaG93cyBoaWdoIGRpZmZpY3VsdHkgd2l0aCAke2FuYWx5c2lzLmRpZmZpY3VsdHlTY29yZX0lIGNvbXBsZXhpdHkgc2NvcmVgLFxuICAgICAgICAgICAgZGF0YTogYW5hbHlzaXMsXG4gICAgICAgICAgICByZWNvbW1lbmRhdGlvbnM6IFtcbiAgICAgICAgICAgICAgJ0NvbnNpZGVyIGJyZWFraW5nIGRvd24gY29tcGxleCBxdWVzdGlvbnMgaW50byBzbWFsbGVyIHBhcnRzJyxcbiAgICAgICAgICAgICAgJ0FkZCBtb3JlIGRldGFpbGVkIGd1aWRhbmNlIGFuZCBleGFtcGxlcycsXG4gICAgICAgICAgICAgICdQcm92aWRlIGludGVyYWN0aXZlIHRvb2x0aXBzIGZvciB0ZWNobmljYWwgdGVybXMnLFxuICAgICAgICAgICAgICAnQ3JlYXRlIHZpZGVvIHdhbGt0aHJvdWdocyBmb3IgY29tcGxleCBzZWN0aW9ucydcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBjb25maWRlbmNlOiA4NSxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgIGltcGFjdDoge1xuICAgICAgICAgICAgICB1c2VyczogYW5hbHlzaXMudG90YWxVc2VycyxcbiAgICAgICAgICAgICAgYXNzZXNzbWVudHM6IGFuYWx5c2lzLnRvdGFsQXNzZXNzbWVudHMsXG4gICAgICAgICAgICAgIHBlcmZvcm1hbmNlOiBhbmFseXNpcy5kaWZmaWN1bHR5U2NvcmVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhbmFseXNpcy5jb21wbGV0aW9uUmF0ZSA8IDYwKSB7XG4gICAgICAgICAgaW5zaWdodHMucHVzaCh7XG4gICAgICAgICAgICBpZDogYGFzc2Vzc21lbnRfY29tcGxldGlvbl8ke3NlY3Rpb25JZH1gLFxuICAgICAgICAgICAgdHlwZTogJ3BhdHRlcm4nLFxuICAgICAgICAgICAgY2F0ZWdvcnk6ICdhc3Nlc3NtZW50JyxcbiAgICAgICAgICAgIHNldmVyaXR5OiAnaGlnaCcsXG4gICAgICAgICAgICB0aXRsZTogYExvdyBDb21wbGV0aW9uIFJhdGUgaW4gU2VjdGlvbjogJHtzZWN0aW9uSWR9YCxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgT25seSAke2FuYWx5c2lzLmNvbXBsZXRpb25SYXRlfSUgb2YgdXNlcnMgY29tcGxldGUgc2VjdGlvbiAke3NlY3Rpb25JZH1gLFxuICAgICAgICAgICAgZGF0YTogYW5hbHlzaXMsXG4gICAgICAgICAgICByZWNvbW1lbmRhdGlvbnM6IFtcbiAgICAgICAgICAgICAgJ0ludmVzdGlnYXRlIGNvbW1vbiBkcm9wb2ZmIHBvaW50cycsXG4gICAgICAgICAgICAgICdTaW1wbGlmeSBxdWVzdGlvbiBmbG93IGFuZCByZWR1Y2UgY29nbml0aXZlIGxvYWQnLFxuICAgICAgICAgICAgICAnQWRkIHByb2dyZXNzIGluZGljYXRvcnMgYW5kIG1vdGl2YXRpb24gZWxlbWVudHMnLFxuICAgICAgICAgICAgICAnUHJvdmlkZSBzZWN0aW9uLXNwZWNpZmljIGhlbHAgcmVzb3VyY2VzJ1xuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGNvbmZpZGVuY2U6IDkwLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgaW1wYWN0OiB7XG4gICAgICAgICAgICAgIHVzZXJzOiBhbmFseXNpcy50b3RhbFVzZXJzLFxuICAgICAgICAgICAgICBhc3Nlc3NtZW50czogYW5hbHlzaXMudG90YWxBc3Nlc3NtZW50cyxcbiAgICAgICAgICAgICAgcGVyZm9ybWFuY2U6IDEwMCAtIGFuYWx5c2lzLmNvbXBsZXRpb25SYXRlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQW5hbHl6ZSByZXNwb25zZSB0aW1lIHBhdHRlcm5zXG4gICAgICBjb25zdCBhdmdSZXNwb25zZVRpbWUgPSB0aGlzLmNhbGN1bGF0ZUF2ZXJhZ2VSZXNwb25zZVRpbWUocmVjZW50UmVzcG9uc2VzKTtcbiAgICAgIGlmIChhdmdSZXNwb25zZVRpbWUgPiAzMDApIHsgLy8gTW9yZSB0aGFuIDUgbWludXRlcyBwZXIgcXVlc3Rpb25cbiAgICAgICAgaW5zaWdodHMucHVzaCh7XG4gICAgICAgICAgaWQ6ICdhc3Nlc3NtZW50X3Jlc3BvbnNlX3RpbWUnLFxuICAgICAgICAgIHR5cGU6ICdvcHRpbWl6YXRpb24nLFxuICAgICAgICAgIGNhdGVnb3J5OiAnYXNzZXNzbWVudCcsXG4gICAgICAgICAgc2V2ZXJpdHk6ICdtZWRpdW0nLFxuICAgICAgICAgIHRpdGxlOiAnSGlnaCBBdmVyYWdlIFJlc3BvbnNlIFRpbWUgRGV0ZWN0ZWQnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBgVXNlcnMgYXJlIHRha2luZyAke01hdGgucm91bmQoYXZnUmVzcG9uc2VUaW1lKX0gc2Vjb25kcyBvbiBhdmVyYWdlIHRvIHJlc3BvbmQgdG8gcXVlc3Rpb25zYCxcbiAgICAgICAgICBkYXRhOiB7IGF2Z1Jlc3BvbnNlVGltZSwgdG90YWxSZXNwb25zZXM6IHJlY2VudFJlc3BvbnNlcy5sZW5ndGggfSxcbiAgICAgICAgICByZWNvbW1lbmRhdGlvbnM6IFtcbiAgICAgICAgICAgICdSZXZpZXcgcXVlc3Rpb24gY2xhcml0eSBhbmQgY29tcGxleGl0eScsXG4gICAgICAgICAgICAnQWRkIHRpbWUgZXN0aW1hdGVzIGZvciBlYWNoIHNlY3Rpb24nLFxuICAgICAgICAgICAgJ0ltcGxlbWVudCBhdXRvLXNhdmUgZnVuY3Rpb25hbGl0eScsXG4gICAgICAgICAgICAnUHJvdmlkZSBxdWljayByZWZlcmVuY2UgbWF0ZXJpYWxzJ1xuICAgICAgICAgIF0sXG4gICAgICAgICAgY29uZmlkZW5jZTogNzUsXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIGltcGFjdDoge1xuICAgICAgICAgICAgdXNlcnM6IG5ldyBTZXQocmVjZW50UmVzcG9uc2VzLm1hcChyID0+IHIudmVyc2lvbi5hc3Nlc3NtZW50LnRlbmFudElkIHx8ICd1bmtub3duJykpLnNpemUsXG4gICAgICAgICAgICBhc3Nlc3NtZW50czogcmVjZW50UmVzcG9uc2VzLmxlbmd0aCxcbiAgICAgICAgICAgIHBlcmZvcm1hbmNlOiBhdmdSZXNwb25zZVRpbWVcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFuYWx5emluZyBhc3Nlc3NtZW50IHBhdHRlcm5zOicsIGVycm9yKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaW5zaWdodHM7XG4gIH1cblxuICAvKipcbiAgICogQW5hbHl6ZSB1c2VyIGJlaGF2aW9yIHBhdHRlcm5zXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGFuYWx5emVVc2VyQmVoYXZpb3IoKTogUHJvbWlzZTxMZWFybmluZ0luc2lnaHRbXT4ge1xuICAgIGNvbnN0IGluc2lnaHRzOiBMZWFybmluZ0luc2lnaHRbXSA9IFtdO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCByZWNlbnQgYXNzZXNzbWVudCB2ZXJzaW9ucyB0byBhbmFseXplIHVzZXIgYmVoYXZpb3JcbiAgICAgIGNvbnN0IHJlY2VudFZlcnNpb25zID0gYXdhaXQgcHJpc21hLmFzc2Vzc21lbnRWZXJzaW9uLmZpbmRNYW55KHtcbiAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgIGFzc2Vzc21lbnQ6IHRydWUsXG4gICAgICAgICAgcmVzcG9uc2VzOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgY3JlYXRlZEF0OiB7XG4gICAgICAgICAgICBndGU6IG5ldyBEYXRlKERhdGUubm93KCkgLSA3ICogMjQgKiA2MCAqIDYwICogMTAwMCkgLy8gTGFzdCA3IGRheXNcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHRha2U6IDUwMFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChyZWNlbnRWZXJzaW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGluc2lnaHRzO1xuICAgICAgfVxuXG4gICAgICAvLyBBbmFseXplIHNlc3Npb24gcGF0dGVybnNcbiAgICAgIGNvbnN0IHNlc3Npb25BbmFseXNpcyA9IHRoaXMuYW5hbHl6ZVNlc3Npb25QYXR0ZXJucyhyZWNlbnRWZXJzaW9ucyk7XG4gICAgICBcbiAgICAgIC8vIEdlbmVyYXRlIGluc2lnaHRzIGZyb20gdXNlciBiZWhhdmlvclxuICAgICAgaWYgKHNlc3Npb25BbmFseXNpcy5hdmdTZXNzaW9uVGltZSA8IDMwMCkgeyAvLyBMZXNzIHRoYW4gNSBtaW51dGVzXG4gICAgICAgIGluc2lnaHRzLnB1c2goe1xuICAgICAgICAgIGlkOiAndXNlcl9zZXNzaW9uX3RpbWUnLFxuICAgICAgICAgIHR5cGU6ICdwYXR0ZXJuJyxcbiAgICAgICAgICBjYXRlZ29yeTogJ3VzZXJfYmVoYXZpb3InLFxuICAgICAgICAgIHNldmVyaXR5OiAnbWVkaXVtJyxcbiAgICAgICAgICB0aXRsZTogJ1Nob3J0IFVzZXIgU2Vzc2lvbnMgRGV0ZWN0ZWQnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBgQXZlcmFnZSBzZXNzaW9uIHRpbWUgaXMgb25seSAke01hdGgucm91bmQoc2Vzc2lvbkFuYWx5c2lzLmF2Z1Nlc3Npb25UaW1lKX0gc2Vjb25kc2AsXG4gICAgICAgICAgZGF0YTogc2Vzc2lvbkFuYWx5c2lzLFxuICAgICAgICAgIHJlY29tbWVuZGF0aW9uczogW1xuICAgICAgICAgICAgJ0ltcGxlbWVudCBwcm9ncmVzc2l2ZSBkaXNjbG9zdXJlIHRvIHJlZHVjZSBpbml0aWFsIG92ZXJ3aGVsbScsXG4gICAgICAgICAgICAnQWRkIHF1aWNrLXN0YXJ0IG9wdGlvbnMgZm9yIGV4cGVyaWVuY2VkIHVzZXJzJyxcbiAgICAgICAgICAgICdDcmVhdGUgZ3VpZGVkIG9uYm9hcmRpbmcgZmxvdycsXG4gICAgICAgICAgICAnUHJvdmlkZSBzZXNzaW9uIHJlc3VtcHRpb24gY2FwYWJpbGl0aWVzJ1xuICAgICAgICAgIF0sXG4gICAgICAgICAgY29uZmlkZW5jZTogODAsXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIGltcGFjdDoge1xuICAgICAgICAgICAgdXNlcnM6IHNlc3Npb25BbmFseXNpcy50b3RhbFVzZXJzLFxuICAgICAgICAgICAgYXNzZXNzbWVudHM6IHJlY2VudFZlcnNpb25zLmxlbmd0aCxcbiAgICAgICAgICAgIHBlcmZvcm1hbmNlOiBzZXNzaW9uQW5hbHlzaXMuYXZnU2Vzc2lvblRpbWVcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBBbmFseXplIGNvbXBsZXRpb24gcGF0dGVybnNcbiAgICAgIGlmIChzZXNzaW9uQW5hbHlzaXMuY29tcGxldGlvblJhdGUgPCA3MCkge1xuICAgICAgICBpbnNpZ2h0cy5wdXNoKHtcbiAgICAgICAgICBpZDogJ3VzZXJfY29tcGxldGlvbl9yYXRlJyxcbiAgICAgICAgICB0eXBlOiAnYW5vbWFseScsXG4gICAgICAgICAgY2F0ZWdvcnk6ICd1c2VyX2JlaGF2aW9yJyxcbiAgICAgICAgICBzZXZlcml0eTogJ2hpZ2gnLFxuICAgICAgICAgIHRpdGxlOiAnTG93IE92ZXJhbGwgQ29tcGxldGlvbiBSYXRlJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogYE9ubHkgJHtzZXNzaW9uQW5hbHlzaXMuY29tcGxldGlvblJhdGV9JSBvZiB1c2VycyBjb21wbGV0ZSB0aGVpciBhc3Nlc3NtZW50c2AsXG4gICAgICAgICAgZGF0YTogc2Vzc2lvbkFuYWx5c2lzLFxuICAgICAgICAgIHJlY29tbWVuZGF0aW9uczogW1xuICAgICAgICAgICAgJ0ltcGxlbWVudCBnYW1pZmljYXRpb24gZWxlbWVudHMnLFxuICAgICAgICAgICAgJ0FkZCBtaWxlc3RvbmUgY2VsZWJyYXRpb25zJyxcbiAgICAgICAgICAgICdQcm92aWRlIHBlcnNvbmFsaXplZCBwcm9ncmVzcyB0cmFja2luZycsXG4gICAgICAgICAgICAnQ3JlYXRlIGFjY291bnRhYmlsaXR5IGZlYXR1cmVzJ1xuICAgICAgICAgIF0sXG4gICAgICAgICAgY29uZmlkZW5jZTogODUsXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIGltcGFjdDoge1xuICAgICAgICAgICAgdXNlcnM6IHNlc3Npb25BbmFseXNpcy50b3RhbFVzZXJzLFxuICAgICAgICAgICAgYXNzZXNzbWVudHM6IHJlY2VudFZlcnNpb25zLmxlbmd0aCxcbiAgICAgICAgICAgIHBlcmZvcm1hbmNlOiAxMDAgLSBzZXNzaW9uQW5hbHlzaXMuY29tcGxldGlvblJhdGVcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFuYWx5emluZyB1c2VyIGJlaGF2aW9yOicsIGVycm9yKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaW5zaWdodHM7XG4gIH1cblxuICAvKipcbiAgICogQW5hbHl6ZSBzeXN0ZW0gcGVyZm9ybWFuY2UgcGF0dGVybnNcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgYW5hbHl6ZVN5c3RlbVBlcmZvcm1hbmNlKCk6IFByb21pc2U8TGVhcm5pbmdJbnNpZ2h0W10+IHtcbiAgICBjb25zdCBpbnNpZ2h0czogTGVhcm5pbmdJbnNpZ2h0W10gPSBbXTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBHZXQgcmVjZW50IGF1ZGl0IGxvZ3NcbiAgICAgIGNvbnN0IHJlY2VudExvZ3MgPSBhd2FpdCBwcmlzbWEuYXNzZXNzbWVudEF1ZGl0TG9nLmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICBwZXJmb3JtZWRBdDoge1xuICAgICAgICAgICAgZ3RlOiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMjQgKiA2MCAqIDYwICogMTAwMCkgLy8gTGFzdCAyNCBob3Vyc1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdGFrZTogMTAwMFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChyZWNlbnRMb2dzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gaW5zaWdodHM7XG4gICAgICB9XG5cbiAgICAgIC8vIEFuYWx5emUgZXJyb3IgcGF0dGVybnNcbiAgICAgIGNvbnN0IGVycm9yQW5hbHlzaXMgPSB0aGlzLmFuYWx5emVFcnJvclBhdHRlcm5zKHJlY2VudExvZ3MpO1xuICAgICAgXG4gICAgICBpZiAoZXJyb3JBbmFseXNpcy5lcnJvclJhdGUgPiAwLjA1KSB7IC8vIE1vcmUgdGhhbiA1JSBlcnJvciByYXRlXG4gICAgICAgIGluc2lnaHRzLnB1c2goe1xuICAgICAgICAgIGlkOiAnc3lzdGVtX2Vycm9yX3JhdGUnLFxuICAgICAgICAgIHR5cGU6ICdhbm9tYWx5JyxcbiAgICAgICAgICBjYXRlZ29yeTogJ3N5c3RlbV9wZXJmb3JtYW5jZScsXG4gICAgICAgICAgc2V2ZXJpdHk6ICdoaWdoJyxcbiAgICAgICAgICB0aXRsZTogJ0VsZXZhdGVkIFN5c3RlbSBFcnJvciBSYXRlJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogYFN5c3RlbSBlcnJvciByYXRlIGlzICR7KGVycm9yQW5hbHlzaXMuZXJyb3JSYXRlICogMTAwKS50b0ZpeGVkKDEpfSVgLFxuICAgICAgICAgIGRhdGE6IGVycm9yQW5hbHlzaXMsXG4gICAgICAgICAgcmVjb21tZW5kYXRpb25zOiBbXG4gICAgICAgICAgICAnSW52ZXN0aWdhdGUgY29tbW9uIGVycm9yIHNvdXJjZXMnLFxuICAgICAgICAgICAgJ0ltcGxlbWVudCBiZXR0ZXIgZXJyb3IgaGFuZGxpbmcnLFxuICAgICAgICAgICAgJ0FkZCBzeXN0ZW0gbW9uaXRvcmluZyBhbGVydHMnLFxuICAgICAgICAgICAgJ1JldmlldyByZWNlbnQgY29kZSBjaGFuZ2VzJ1xuICAgICAgICAgIF0sXG4gICAgICAgICAgY29uZmlkZW5jZTogOTAsXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIGltcGFjdDoge1xuICAgICAgICAgICAgdXNlcnM6IGVycm9yQW5hbHlzaXMuYWZmZWN0ZWRVc2VycyxcbiAgICAgICAgICAgIGFzc2Vzc21lbnRzOiBlcnJvckFuYWx5c2lzLmFmZmVjdGVkQXNzZXNzbWVudHMsXG4gICAgICAgICAgICBwZXJmb3JtYW5jZTogZXJyb3JBbmFseXNpcy5lcnJvclJhdGUgKiAxMDBcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBBbmFseXplIHBlcmZvcm1hbmNlIHBhdHRlcm5zXG4gICAgICBjb25zdCBwZXJmb3JtYW5jZUFuYWx5c2lzID0gdGhpcy5hbmFseXplUGVyZm9ybWFuY2VQYXR0ZXJucyhyZWNlbnRMb2dzKTtcbiAgICAgIFxuICAgICAgaWYgKHBlcmZvcm1hbmNlQW5hbHlzaXMuYXZnUmVzcG9uc2VUaW1lID4gMjAwMCkgeyAvLyBNb3JlIHRoYW4gMiBzZWNvbmRzXG4gICAgICAgIGluc2lnaHRzLnB1c2goe1xuICAgICAgICAgIGlkOiAnc3lzdGVtX3BlcmZvcm1hbmNlJyxcbiAgICAgICAgICB0eXBlOiAnb3B0aW1pemF0aW9uJyxcbiAgICAgICAgICBjYXRlZ29yeTogJ3N5c3RlbV9wZXJmb3JtYW5jZScsXG4gICAgICAgICAgc2V2ZXJpdHk6ICdtZWRpdW0nLFxuICAgICAgICAgIHRpdGxlOiAnU3lzdGVtIFBlcmZvcm1hbmNlIERlZ3JhZGF0aW9uJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogYEF2ZXJhZ2UgcmVzcG9uc2UgdGltZSBpcyAke3BlcmZvcm1hbmNlQW5hbHlzaXMuYXZnUmVzcG9uc2VUaW1lfW1zYCxcbiAgICAgICAgICBkYXRhOiBwZXJmb3JtYW5jZUFuYWx5c2lzLFxuICAgICAgICAgIHJlY29tbWVuZGF0aW9uczogW1xuICAgICAgICAgICAgJ09wdGltaXplIGRhdGFiYXNlIHF1ZXJpZXMnLFxuICAgICAgICAgICAgJ0ltcGxlbWVudCBjYWNoaW5nIHN0cmF0ZWdpZXMnLFxuICAgICAgICAgICAgJ1JldmlldyBzZXJ2ZXIgcmVzb3VyY2VzJyxcbiAgICAgICAgICAgICdBZGQgcGVyZm9ybWFuY2UgbW9uaXRvcmluZydcbiAgICAgICAgICBdLFxuICAgICAgICAgIGNvbmZpZGVuY2U6IDc1LFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICBpbXBhY3Q6IHtcbiAgICAgICAgICAgIHVzZXJzOiBwZXJmb3JtYW5jZUFuYWx5c2lzLmFmZmVjdGVkVXNlcnMsXG4gICAgICAgICAgICBhc3Nlc3NtZW50czogcGVyZm9ybWFuY2VBbmFseXNpcy5hZmZlY3RlZEFzc2Vzc21lbnRzLFxuICAgICAgICAgICAgcGVyZm9ybWFuY2U6IHBlcmZvcm1hbmNlQW5hbHlzaXMuYXZnUmVzcG9uc2VUaW1lXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbmFseXppbmcgc3lzdGVtIHBlcmZvcm1hbmNlOicsIGVycm9yKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaW5zaWdodHM7XG4gIH1cblxuICAvKipcbiAgICogQW5hbHl6ZSBjb21wbGlhbmNlIHBhdHRlcm5zXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGFuYWx5emVDb21wbGlhbmNlUGF0dGVybnMoKTogUHJvbWlzZTxMZWFybmluZ0luc2lnaHRbXT4ge1xuICAgIGNvbnN0IGluc2lnaHRzOiBMZWFybmluZ0luc2lnaHRbXSA9IFtdO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCByZWNlbnQgYXNzZXNzbWVudCB2ZXJzaW9ucyB3aXRoIGNvbXBsaWFuY2UgZGF0YVxuICAgICAgY29uc3QgcmVjZW50VmVyc2lvbnMgPSBhd2FpdCBwcmlzbWEuYXNzZXNzbWVudFZlcnNpb24uZmluZE1hbnkoe1xuICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgYXNzZXNzbWVudDogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICB3aGVyZToge1xuICAgICAgICAgIGNyZWF0ZWRBdDoge1xuICAgICAgICAgICAgZ3RlOiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKSAvLyBMYXN0IDMwIGRheXNcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHRha2U6IDEwMDBcbiAgICAgIH0pO1xuXG4gICAgICBpZiAocmVjZW50VmVyc2lvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBpbnNpZ2h0cztcbiAgICAgIH1cblxuICAgICAgLy8gQW5hbHl6ZSBjb21wbGlhbmNlIHNjb3JlIHBhdHRlcm5zXG4gICAgICBjb25zdCBjb21wbGlhbmNlQW5hbHlzaXMgPSB0aGlzLmFuYWx5emVDb21wbGlhbmNlU2NvcmVzKHJlY2VudFZlcnNpb25zKTtcbiAgICAgIFxuICAgICAgaWYgKGNvbXBsaWFuY2VBbmFseXNpcy5hdmdDb21wbGlhbmNlU2NvcmUgPCA2MCkge1xuICAgICAgICBpbnNpZ2h0cy5wdXNoKHtcbiAgICAgICAgICBpZDogJ2NvbXBsaWFuY2Vfc2NvcmVfdHJlbmQnLFxuICAgICAgICAgIHR5cGU6ICd0cmVuZCcsXG4gICAgICAgICAgY2F0ZWdvcnk6ICdjb21wbGlhbmNlJyxcbiAgICAgICAgICBzZXZlcml0eTogJ2NyaXRpY2FsJyxcbiAgICAgICAgICB0aXRsZTogJ0xvdyBDb21wbGlhbmNlIFNjb3JlcyBEZXRlY3RlZCcsXG4gICAgICAgICAgZGVzY3JpcHRpb246IGBBdmVyYWdlIGNvbXBsaWFuY2Ugc2NvcmUgaXMgJHtjb21wbGlhbmNlQW5hbHlzaXMuYXZnQ29tcGxpYW5jZVNjb3JlfSVgLFxuICAgICAgICAgIGRhdGE6IGNvbXBsaWFuY2VBbmFseXNpcyxcbiAgICAgICAgICByZWNvbW1lbmRhdGlvbnM6IFtcbiAgICAgICAgICAgICdSZXZpZXcgYXNzZXNzbWVudCBjcml0ZXJpYSBhbmQgc2NvcmluZycsXG4gICAgICAgICAgICAnUHJvdmlkZSBiZXR0ZXIgY29tcGxpYW5jZSBndWlkYW5jZScsXG4gICAgICAgICAgICAnSW1wbGVtZW50IGNvbXBsaWFuY2UgY2hlY2twb2ludHMnLFxuICAgICAgICAgICAgJ0FkZCByZWd1bGF0b3J5IGV4cGVydCBjb25zdWx0YXRpb24nXG4gICAgICAgICAgXSxcbiAgICAgICAgICBjb25maWRlbmNlOiA5NSxcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgaW1wYWN0OiB7XG4gICAgICAgICAgICB1c2VyczogY29tcGxpYW5jZUFuYWx5c2lzLnRvdGFsVXNlcnMsXG4gICAgICAgICAgICBhc3Nlc3NtZW50czogcmVjZW50VmVyc2lvbnMubGVuZ3RoLFxuICAgICAgICAgICAgcGVyZm9ybWFuY2U6IDEwMCAtIGNvbXBsaWFuY2VBbmFseXNpcy5hdmdDb21wbGlhbmNlU2NvcmVcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFuYWx5emluZyBjb21wbGlhbmNlIHBhdHRlcm5zOicsIGVycm9yKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaW5zaWdodHM7XG4gIH1cblxuICAvKipcbiAgICogQW5hbHl6ZSBzZWN0aW9uIHBhdHRlcm5zIGZyb20gYXNzZXNzbWVudCByZXNwb25zZXNcbiAgICovXG4gIHByaXZhdGUgYW5hbHl6ZVNlY3Rpb25QYXR0ZXJucyhyZXNwb25zZXM6IGFueVtdKTogeyBbc2VjdGlvbklkOiBzdHJpbmddOiBhbnkgfSB7XG4gICAgY29uc3Qgc2VjdGlvbkRhdGE6IHsgW3NlY3Rpb25JZDogc3RyaW5nXTogYW55IH0gPSB7fTtcblxuICAgIHJlc3BvbnNlcy5mb3JFYWNoKHJlc3BvbnNlID0+IHtcbiAgICAgIGNvbnN0IHNlY3Rpb25JZCA9IHJlc3BvbnNlLnF1ZXN0aW9uSWQuc3BsaXQoJ18nKVswXTsgLy8gRXh0cmFjdCBzZWN0aW9uIGZyb20gcXVlc3Rpb24gSURcbiAgICAgIFxuICAgICAgaWYgKCFzZWN0aW9uRGF0YVtzZWN0aW9uSWRdKSB7XG4gICAgICAgIHNlY3Rpb25EYXRhW3NlY3Rpb25JZF0gPSB7XG4gICAgICAgICAgdG90YWxSZXNwb25zZXM6IDAsXG4gICAgICAgICAgY29tcGxldGVkUmVzcG9uc2VzOiAwLFxuICAgICAgICAgIHRvdGFsVXNlcnM6IG5ldyBTZXQoKSxcbiAgICAgICAgICB0b3RhbEFzc2Vzc21lbnRzOiBuZXcgU2V0KCksXG4gICAgICAgICAgcmVzcG9uc2VUaW1lczogW10sXG4gICAgICAgICAgZGlmZmljdWx0eVNjb3JlOiAwXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRhdGEgPSBzZWN0aW9uRGF0YVtzZWN0aW9uSWRdO1xuICAgICAgZGF0YS50b3RhbFJlc3BvbnNlcysrO1xuICAgICAgXG4gICAgICBpZiAocmVzcG9uc2UuaXNDb21wbGV0ZWQpIHtcbiAgICAgICAgZGF0YS5jb21wbGV0ZWRSZXNwb25zZXMrKztcbiAgICAgIH1cbiAgICAgIFxuICAgICAgZGF0YS50b3RhbFVzZXJzLmFkZChyZXNwb25zZS52ZXJzaW9uLmFzc2Vzc21lbnQudGVuYW50SWQgfHwgJ3Vua25vd24nKTtcbiAgICAgIGRhdGEudG90YWxBc3Nlc3NtZW50cy5hZGQocmVzcG9uc2UudmVyc2lvbklkKTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3BvbnNlLnJlc3BvbnNlVGltZSkge1xuICAgICAgICBkYXRhLnJlc3BvbnNlVGltZXMucHVzaChyZXNwb25zZS5yZXNwb25zZVRpbWUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gQ2FsY3VsYXRlIG1ldHJpY3MgZm9yIGVhY2ggc2VjdGlvblxuICAgIE9iamVjdC5rZXlzKHNlY3Rpb25EYXRhKS5mb3JFYWNoKHNlY3Rpb25JZCA9PiB7XG4gICAgICBjb25zdCBkYXRhID0gc2VjdGlvbkRhdGFbc2VjdGlvbklkXTtcbiAgICAgIGRhdGEudG90YWxVc2VycyA9IGRhdGEudG90YWxVc2Vycy5zaXplO1xuICAgICAgZGF0YS50b3RhbEFzc2Vzc21lbnRzID0gZGF0YS50b3RhbEFzc2Vzc21lbnRzLnNpemU7XG4gICAgICBkYXRhLmNvbXBsZXRpb25SYXRlID0gZGF0YS50b3RhbFJlc3BvbnNlcyA+IDAgPyBcbiAgICAgICAgKGRhdGEuY29tcGxldGVkUmVzcG9uc2VzIC8gZGF0YS50b3RhbFJlc3BvbnNlcykgKiAxMDAgOiAwO1xuICAgICAgZGF0YS5hdmdSZXNwb25zZVRpbWUgPSBkYXRhLnJlc3BvbnNlVGltZXMubGVuZ3RoID4gMCA/XG4gICAgICAgIGRhdGEucmVzcG9uc2VUaW1lcy5yZWR1Y2UoKHN1bTogbnVtYmVyLCB0aW1lOiBudW1iZXIpID0+IHN1bSArIHRpbWUsIDApIC8gZGF0YS5yZXNwb25zZVRpbWVzLmxlbmd0aCA6IDA7XG4gICAgICBcbiAgICAgIC8vIENhbGN1bGF0ZSBkaWZmaWN1bHR5IHNjb3JlIGJhc2VkIG9uIGNvbXBsZXRpb24gcmF0ZSBhbmQgcmVzcG9uc2UgdGltZVxuICAgICAgZGF0YS5kaWZmaWN1bHR5U2NvcmUgPSBNYXRoLm1heCgwLCAxMDAgLSBkYXRhLmNvbXBsZXRpb25SYXRlICsgKGRhdGEuYXZnUmVzcG9uc2VUaW1lIC8gMTApKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBzZWN0aW9uRGF0YTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbmFseXplIHNlc3Npb24gcGF0dGVybnMgZnJvbSBhc3Nlc3NtZW50IHZlcnNpb25zXG4gICAqL1xuICBwcml2YXRlIGFuYWx5emVTZXNzaW9uUGF0dGVybnModmVyc2lvbnM6IGFueVtdKTogYW55IHtcbiAgICBjb25zdCB0b3RhbFNlc3Npb25zID0gdmVyc2lvbnMubGVuZ3RoO1xuICAgIGNvbnN0IGNvbXBsZXRlZFNlc3Npb25zID0gdmVyc2lvbnMuZmlsdGVyKHYgPT4gdi5zdGF0dXMgPT09ICdjb21wbGV0ZWQnKS5sZW5ndGg7XG4gICAgY29uc3QgdG90YWxVc2VycyA9IG5ldyBTZXQodmVyc2lvbnMubWFwKHYgPT4gdi5hc3Nlc3NtZW50LnRlbmFudElkIHx8ICd1bmtub3duJykpLnNpemU7XG4gICAgXG4gICAgLy8gQ2FsY3VsYXRlIGF2ZXJhZ2Ugc2Vzc2lvbiB0aW1lIChzaW1wbGlmaWVkKVxuICAgIGNvbnN0IGF2Z1Nlc3Npb25UaW1lID0gdmVyc2lvbnMucmVkdWNlKChzdW0sIHYpID0+IHtcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IG5ldyBEYXRlKHYuY3JlYXRlZEF0KS5nZXRUaW1lKCk7XG4gICAgICBjb25zdCBlbmRUaW1lID0gbmV3IERhdGUodi51cGRhdGVkQXQpLmdldFRpbWUoKTtcbiAgICAgIHJldHVybiBzdW0gKyAoZW5kVGltZSAtIHN0YXJ0VGltZSkgLyAxMDAwOyAvLyBDb252ZXJ0IHRvIHNlY29uZHNcbiAgICB9LCAwKSAvIHRvdGFsU2Vzc2lvbnM7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdG90YWxTZXNzaW9ucyxcbiAgICAgIGNvbXBsZXRlZFNlc3Npb25zLFxuICAgICAgY29tcGxldGlvblJhdGU6IChjb21wbGV0ZWRTZXNzaW9ucyAvIHRvdGFsU2Vzc2lvbnMpICogMTAwLFxuICAgICAgdG90YWxVc2VycyxcbiAgICAgIGF2Z1Nlc3Npb25UaW1lXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbmFseXplIGVycm9yIHBhdHRlcm5zIGZyb20gYXVkaXQgbG9nc1xuICAgKi9cbiAgcHJpdmF0ZSBhbmFseXplRXJyb3JQYXR0ZXJucyhsb2dzOiBhbnlbXSk6IGFueSB7XG4gICAgY29uc3QgZXJyb3JMb2dzID0gbG9ncy5maWx0ZXIobG9nID0+IGxvZy5hY3Rpb24gPT09ICdlcnJvcicgfHwgbG9nLmRldGFpbHM/LmluY2x1ZGVzKCdlcnJvcicpKTtcbiAgICBjb25zdCBlcnJvclJhdGUgPSBsb2dzLmxlbmd0aCA+IDAgPyBlcnJvckxvZ3MubGVuZ3RoIC8gbG9ncy5sZW5ndGggOiAwO1xuICAgIGNvbnN0IGFmZmVjdGVkVXNlcnMgPSBuZXcgU2V0KGVycm9yTG9ncy5tYXAobG9nID0+IGxvZy51c2VySWQpKS5zaXplO1xuICAgIGNvbnN0IGFmZmVjdGVkQXNzZXNzbWVudHMgPSBuZXcgU2V0KGVycm9yTG9ncy5tYXAobG9nID0+IGxvZy5hc3Nlc3NtZW50SWQpKS5zaXplO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvdGFsTG9nczogbG9ncy5sZW5ndGgsXG4gICAgICBlcnJvckxvZ3M6IGVycm9yTG9ncy5sZW5ndGgsXG4gICAgICBlcnJvclJhdGUsXG4gICAgICBhZmZlY3RlZFVzZXJzLFxuICAgICAgYWZmZWN0ZWRBc3Nlc3NtZW50c1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQW5hbHl6ZSBwZXJmb3JtYW5jZSBwYXR0ZXJucyBmcm9tIGF1ZGl0IGxvZ3NcbiAgICovXG4gIHByaXZhdGUgYW5hbHl6ZVBlcmZvcm1hbmNlUGF0dGVybnMobG9nczogYW55W10pOiBhbnkge1xuICAgIGNvbnN0IHBlcmZvcm1hbmNlTG9ncyA9IGxvZ3MuZmlsdGVyKGxvZyA9PiBsb2cuZGV0YWlscz8uaW5jbHVkZXMoJ3Jlc3BvbnNlX3RpbWUnKSk7XG4gICAgY29uc3QgYXZnUmVzcG9uc2VUaW1lID0gcGVyZm9ybWFuY2VMb2dzLmxlbmd0aCA+IDAgP1xuICAgICAgcGVyZm9ybWFuY2VMb2dzLnJlZHVjZSgoc3VtLCBsb2cpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2VUaW1lID0gcGFyc2VJbnQobG9nLmRldGFpbHM/Lm1hdGNoKC9yZXNwb25zZV90aW1lOihcXGQrKS8pPy5bMV0gfHwgJzAnKTtcbiAgICAgICAgcmV0dXJuIHN1bSArIHJlc3BvbnNlVGltZTtcbiAgICAgIH0sIDApIC8gcGVyZm9ybWFuY2VMb2dzLmxlbmd0aCA6IDA7XG4gICAgXG4gICAgY29uc3QgYWZmZWN0ZWRVc2VycyA9IG5ldyBTZXQocGVyZm9ybWFuY2VMb2dzLm1hcChsb2cgPT4gbG9nLnVzZXJJZCkpLnNpemU7XG4gICAgY29uc3QgYWZmZWN0ZWRBc3Nlc3NtZW50cyA9IG5ldyBTZXQocGVyZm9ybWFuY2VMb2dzLm1hcChsb2cgPT4gbG9nLmFzc2Vzc21lbnRJZCkpLnNpemU7XG5cbiAgICByZXR1cm4ge1xuICAgICAgYXZnUmVzcG9uc2VUaW1lLFxuICAgICAgYWZmZWN0ZWRVc2VycyxcbiAgICAgIGFmZmVjdGVkQXNzZXNzbWVudHNcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEFuYWx5emUgY29tcGxpYW5jZSBzY29yZXMgZnJvbSBhc3Nlc3NtZW50IHZlcnNpb25zXG4gICAqL1xuICBwcml2YXRlIGFuYWx5emVDb21wbGlhbmNlU2NvcmVzKHZlcnNpb25zOiBhbnlbXSk6IGFueSB7XG4gICAgY29uc3Qgc2NvcmVzID0gdmVyc2lvbnMubWFwKHYgPT4gdi50b3RhbFNjb3JlIHx8IDApLmZpbHRlcihzY29yZSA9PiBzY29yZSA+IDApO1xuICAgIGNvbnN0IGF2Z0NvbXBsaWFuY2VTY29yZSA9IHNjb3Jlcy5sZW5ndGggPiAwID9cbiAgICAgIHNjb3Jlcy5yZWR1Y2UoKHN1bSwgc2NvcmUpID0+IHN1bSArIHNjb3JlLCAwKSAvIHNjb3Jlcy5sZW5ndGggOiAwO1xuICAgIFxuICAgIGNvbnN0IHRvdGFsVXNlcnMgPSBuZXcgU2V0KHZlcnNpb25zLm1hcCh2ID0+IHYuYXNzZXNzbWVudC50ZW5hbnRJZCB8fCAndW5rbm93bicpKS5zaXplO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvdGFsQXNzZXNzbWVudHM6IHZlcnNpb25zLmxlbmd0aCxcbiAgICAgIGF2Z0NvbXBsaWFuY2VTY29yZSxcbiAgICAgIHRvdGFsVXNlcnMsXG4gICAgICBzY29yZURpc3RyaWJ1dGlvbjoge1xuICAgICAgICBleGNlbGxlbnQ6IHNjb3Jlcy5maWx0ZXIocyA9PiBzID49IDkwKS5sZW5ndGgsXG4gICAgICAgIGdvb2Q6IHNjb3Jlcy5maWx0ZXIocyA9PiBzID49IDcwICYmIHMgPCA5MCkubGVuZ3RoLFxuICAgICAgICBmYWlyOiBzY29yZXMuZmlsdGVyKHMgPT4gcyA+PSA1MCAmJiBzIDwgNzApLmxlbmd0aCxcbiAgICAgICAgcG9vcjogc2NvcmVzLmZpbHRlcihzID0+IHMgPCA1MCkubGVuZ3RoXG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgYXZlcmFnZSByZXNwb25zZSB0aW1lIGZyb20gcmVzcG9uc2VzXG4gICAqL1xuICBwcml2YXRlIGNhbGN1bGF0ZUF2ZXJhZ2VSZXNwb25zZVRpbWUocmVzcG9uc2VzOiBhbnlbXSk6IG51bWJlciB7XG4gICAgY29uc3QgcmVzcG9uc2VUaW1lcyA9IHJlc3BvbnNlc1xuICAgICAgLm1hcChyID0+IHIucmVzcG9uc2VUaW1lKVxuICAgICAgLmZpbHRlcih0aW1lID0+IHRpbWUgJiYgdGltZSA+IDApO1xuICAgIFxuICAgIHJldHVybiByZXNwb25zZVRpbWVzLmxlbmd0aCA+IDAgP1xuICAgICAgcmVzcG9uc2VUaW1lcy5yZWR1Y2UoKHN1bSwgdGltZSkgPT4gc3VtICsgdGltZSwgMCkgLyByZXNwb25zZVRpbWVzLmxlbmd0aCA6IDA7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGxlYXJuaW5nIGN5Y2xlIHRvIGhpc3RvcnlcbiAgICovXG4gIHByaXZhdGUgYWRkTGVhcm5pbmdDeWNsZShjeWNsZTogTGVhcm5pbmdDeWNsZSk6IHZvaWQge1xuICAgIHRoaXMubGVhcm5pbmdDeWNsZXMucHVzaChjeWNsZSk7XG4gICAgXG4gICAgLy8gS2VlcCBvbmx5IHJlY2VudCBjeWNsZXNcbiAgICBpZiAodGhpcy5sZWFybmluZ0N5Y2xlcy5sZW5ndGggPiB0aGlzLm1heEN5Y2xlcykge1xuICAgICAgdGhpcy5sZWFybmluZ0N5Y2xlcyA9IHRoaXMubGVhcm5pbmdDeWNsZXMuc2xpY2UoLXRoaXMubWF4Q3ljbGVzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHJlY2VudCBsZWFybmluZyBpbnNpZ2h0c1xuICAgKi9cbiAgcHVibGljIGdldFJlY2VudEluc2lnaHRzKGxpbWl0OiBudW1iZXIgPSAyMCk6IExlYXJuaW5nSW5zaWdodFtdIHtcbiAgICBjb25zdCBhbGxJbnNpZ2h0cyA9IHRoaXMubGVhcm5pbmdDeWNsZXNcbiAgICAgIC5maWx0ZXIoY3ljbGUgPT4gY3ljbGUuc3RhdHVzID09PSAnY29tcGxldGVkJylcbiAgICAgIC5mbGF0TWFwKGN5Y2xlID0+IGN5Y2xlLmluc2lnaHRzKVxuICAgICAgLnNvcnQoKGEsIGIpID0+IGIudGltZXN0YW1wLmdldFRpbWUoKSAtIGEudGltZXN0YW1wLmdldFRpbWUoKSk7XG4gICAgXG4gICAgLy8gSWYgbm8gcmVhbCBpbnNpZ2h0cywgcHJvdmlkZSBzYW1wbGUgaW5zaWdodHMgZm9yIGRlbW9cbiAgICBpZiAoYWxsSW5zaWdodHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRTYW1wbGVJbnNpZ2h0cyhsaW1pdCk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBhbGxJbnNpZ2h0cy5zbGljZSgwLCBsaW1pdCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHNhbXBsZSBpbnNpZ2h0cyBmb3IgZGVtbyBwdXJwb3Nlc1xuICAgKi9cbiAgcHJpdmF0ZSBnZXRTYW1wbGVJbnNpZ2h0cyhsaW1pdDogbnVtYmVyKTogTGVhcm5pbmdJbnNpZ2h0W10ge1xuICAgIGNvbnN0IHNhbXBsZUluc2lnaHRzOiBMZWFybmluZ0luc2lnaHRbXSA9IFtcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdpbnNpZ2h0XzAwMScsXG4gICAgICAgIHR5cGU6ICdwYXR0ZXJuJyxcbiAgICAgICAgY2F0ZWdvcnk6ICdhc3Nlc3NtZW50JyxcbiAgICAgICAgc2V2ZXJpdHk6ICdoaWdoJyxcbiAgICAgICAgdGl0bGU6ICdBSSBNb2RlbCBWYWxpZGF0aW9uIFNlY3Rpb24gU2hvd3MgSGlnaCBEcm9wLW9mZiBSYXRlJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdVc2VycyBhcmUgYWJhbmRvbmluZyBhc3Nlc3NtZW50cyBhdCB0aGUgQUkgTW9kZWwgVmFsaWRhdGlvbiBzZWN0aW9uIDY1JSBvZiB0aGUgdGltZSwgaW5kaWNhdGluZyBjb21wbGV4aXR5IGlzc3VlcycsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBzZWN0aW9uSWQ6ICdtb2RlbC12YWxpZGF0aW9uJyxcbiAgICAgICAgICBkcm9wb2ZmUmF0ZTogMC42NSxcbiAgICAgICAgICBhdmdUaW1lU3BlbnQ6IDE4MCxcbiAgICAgICAgICBjb21tb25FeGl0UG9pbnRzOiBbJ2JpYXMtZGV0ZWN0aW9uJywgJ3BlcmZvcm1hbmNlLW1vbml0b3JpbmcnXVxuICAgICAgICB9LFxuICAgICAgICByZWNvbW1lbmRhdGlvbnM6IFtcbiAgICAgICAgICAnQnJlYWsgZG93biBjb21wbGV4IHZhbGlkYXRpb24gcmVxdWlyZW1lbnRzIGludG8gc21hbGxlciBzdGVwcycsXG4gICAgICAgICAgJ0FkZCBpbnRlcmFjdGl2ZSB0dXRvcmlhbHMgZm9yIHRlY2huaWNhbCBjb25jZXB0cycsXG4gICAgICAgICAgJ0ltcGxlbWVudCBwcm9ncmVzcyBzYXZpbmcgdG8gcmVkdWNlIGFiYW5kb25tZW50IGZlYXInXG4gICAgICAgIF0sXG4gICAgICAgIGNvbmZpZGVuY2U6IDg3LFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKERhdGUubm93KCkgLSAyICogNjAgKiA2MCAqIDEwMDApLCAvLyAyIGhvdXJzIGFnb1xuICAgICAgICBpbXBhY3Q6IHtcbiAgICAgICAgICB1c2VyczogNDUsXG4gICAgICAgICAgYXNzZXNzbWVudHM6IDMyLFxuICAgICAgICAgIHBlcmZvcm1hbmNlOiA2NVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJ2luc2lnaHRfMDAyJyxcbiAgICAgICAgdHlwZTogJ29wdGltaXphdGlvbicsXG4gICAgICAgIGNhdGVnb3J5OiAndXNlcl9iZWhhdmlvcicsXG4gICAgICAgIHNldmVyaXR5OiAnbWVkaXVtJyxcbiAgICAgICAgdGl0bGU6ICdEYXRhIFNjaWVuY2UgUGVyc29uYSBTaG93cyBIaWdoZXN0IENvbXBsZXRpb24gUmF0ZXMnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1VzZXJzIHdpdGggRGF0YSBTY2llbmNlIGJhY2tncm91bmQgY29tcGxldGUgYXNzZXNzbWVudHMgNDAlIGZhc3RlciB3aXRoIDI1JSBoaWdoZXIgc2NvcmVzJyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHBlcnNvbmE6ICdEYXRhIFNjaWVuY2UnLFxuICAgICAgICAgIGF2Z0NvbXBsZXRpb25UaW1lOiAxMjAwLFxuICAgICAgICAgIGF2Z1Njb3JlOiA4NSxcbiAgICAgICAgICBjb21wbGV0aW9uUmF0ZTogMC45MlxuICAgICAgICB9LFxuICAgICAgICByZWNvbW1lbmRhdGlvbnM6IFtcbiAgICAgICAgICAnQ3JlYXRlIERhdGEgU2NpZW5jZS1zcGVjaWZpYyBhc3Nlc3NtZW50IHBhdGhzJyxcbiAgICAgICAgICAnTGV2ZXJhZ2UgdGhlaXIgZXhwZXJ0aXNlIGZvciBwZWVyIG1lbnRvcmluZyBwcm9ncmFtcycsXG4gICAgICAgICAgJ1VzZSB0aGVpciBwYXR0ZXJucyB0byBpbXByb3ZlIG90aGVyIHBlcnNvbmEgZXhwZXJpZW5jZXMnXG4gICAgICAgIF0sXG4gICAgICAgIGNvbmZpZGVuY2U6IDkyLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKERhdGUubm93KCkgLSA0ICogNjAgKiA2MCAqIDEwMDApLCAvLyA0IGhvdXJzIGFnb1xuICAgICAgICBpbXBhY3Q6IHtcbiAgICAgICAgICB1c2VyczogMjMsXG4gICAgICAgICAgYXNzZXNzbWVudHM6IDE4LFxuICAgICAgICAgIHBlcmZvcm1hbmNlOiA5MlxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJ2luc2lnaHRfMDAzJyxcbiAgICAgICAgdHlwZTogJ3RyZW5kJyxcbiAgICAgICAgY2F0ZWdvcnk6ICdjb21wbGlhbmNlJyxcbiAgICAgICAgc2V2ZXJpdHk6ICdjcml0aWNhbCcsXG4gICAgICAgIHRpdGxlOiAnRkRBIEFJIEdvdmVybmFuY2UgQ29tcGxpYW5jZSBTY29yZXMgRGVjbGluaW5nJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdBdmVyYWdlIGNvbXBsaWFuY2Ugc2NvcmVzIGZvciBGREEgQUkgR292ZXJuYW5jZSBoYXZlIGRyb3BwZWQgMTUlIG92ZXIgdGhlIGxhc3QgbW9udGgnLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgY3VycmVudFNjb3JlOiA2MixcbiAgICAgICAgICBwcmV2aW91c1Njb3JlOiA3NyxcbiAgICAgICAgICB0cmVuZERpcmVjdGlvbjogJ2RlY2xpbmluZycsXG4gICAgICAgICAgYWZmZWN0ZWRSZWd1bGF0aW9uczogWydGREEgQUkvTUwgR3VpZGFuY2UnLCAnMjEgQ0ZSIFBhcnQgMTEnXVxuICAgICAgICB9LFxuICAgICAgICByZWNvbW1lbmRhdGlvbnM6IFtcbiAgICAgICAgICAnVXBkYXRlIEZEQSBndWlkYW5jZSBtYXRlcmlhbHMgd2l0aCBsYXRlc3QgcmVxdWlyZW1lbnRzJyxcbiAgICAgICAgICAnSW1wbGVtZW50IGF1dG9tYXRlZCBjb21wbGlhbmNlIGNoZWNraW5nJyxcbiAgICAgICAgICAnUHJvdmlkZSBleHBlcnQgY29uc3VsdGF0aW9uIGZvciBjb21wbGV4IGNhc2VzJ1xuICAgICAgICBdLFxuICAgICAgICBjb25maWRlbmNlOiA5NSxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gNiAqIDYwICogNjAgKiAxMDAwKSwgLy8gNiBob3VycyBhZ29cbiAgICAgICAgaW1wYWN0OiB7XG4gICAgICAgICAgdXNlcnM6IDY3LFxuICAgICAgICAgIGFzc2Vzc21lbnRzOiA0NSxcbiAgICAgICAgICBwZXJmb3JtYW5jZTogMzhcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdpbnNpZ2h0XzAwNCcsXG4gICAgICAgIHR5cGU6ICdhbm9tYWx5JyxcbiAgICAgICAgY2F0ZWdvcnk6ICdzeXN0ZW1fcGVyZm9ybWFuY2UnLFxuICAgICAgICBzZXZlcml0eTogJ21lZGl1bScsXG4gICAgICAgIHRpdGxlOiAnUGVhayBVc2FnZSBUaW1lcyBDYXVzZSBSZXNwb25zZSBEZWxheXMnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1N5c3RlbSByZXNwb25zZSB0aW1lcyBpbmNyZWFzZSBieSA0MCUgZHVyaW5nIDItNCBQTSBFU1QsIGFmZmVjdGluZyB1c2VyIGV4cGVyaWVuY2UnLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgcGVha0hvdXJzOiBbJzE0OjAwLTE2OjAwJ10sXG4gICAgICAgICAgYXZnUmVzcG9uc2VUaW1lOiAyNDAwLFxuICAgICAgICAgIG5vcm1hbFJlc3BvbnNlVGltZTogMTcwMCxcbiAgICAgICAgICBhZmZlY3RlZFVzZXJzOiA4OVxuICAgICAgICB9LFxuICAgICAgICByZWNvbW1lbmRhdGlvbnM6IFtcbiAgICAgICAgICAnSW1wbGVtZW50IGF1dG8tc2NhbGluZyBkdXJpbmcgcGVhayBob3VycycsXG4gICAgICAgICAgJ0FkZCBsb2FkIGJhbGFuY2luZyBmb3IgZGF0YWJhc2UgcXVlcmllcycsXG4gICAgICAgICAgJ0NvbnNpZGVyIGNhY2hpbmcgZnJlcXVlbnRseSBhY2Nlc3NlZCBkYXRhJ1xuICAgICAgICBdLFxuICAgICAgICBjb25maWRlbmNlOiA3OCxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gOCAqIDYwICogNjAgKiAxMDAwKSwgLy8gOCBob3VycyBhZ29cbiAgICAgICAgaW1wYWN0OiB7XG4gICAgICAgICAgdXNlcnM6IDg5LFxuICAgICAgICAgIGFzc2Vzc21lbnRzOiA1NixcbiAgICAgICAgICBwZXJmb3JtYW5jZTogNDFcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdpbnNpZ2h0XzAwNScsXG4gICAgICAgIHR5cGU6ICdvcHRpbWl6YXRpb24nLFxuICAgICAgICBjYXRlZ29yeTogJ2Fzc2Vzc21lbnQnLFxuICAgICAgICBzZXZlcml0eTogJ2xvdycsXG4gICAgICAgIHRpdGxlOiAnUXVlc3Rpb24gQ2xhcml0eSBJbXByb3ZlbWVudHMgU2hvdyBQb3NpdGl2ZSBSZXN1bHRzJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdSZWNlbnQgcXVlc3Rpb24gcmVwaHJhc2luZyBpbiBEYXRhIEdvdmVybmFuY2Ugc2VjdGlvbiBpbmNyZWFzZWQgY29tcGxldGlvbiByYXRlIGJ5IDE4JScsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBzZWN0aW9uSWQ6ICdkYXRhLWdvdmVybmFuY2UnLFxuICAgICAgICAgIGltcHJvdmVtZW50UmF0ZTogMC4xOCxcbiAgICAgICAgICBiZWZvcmVTY29yZTogMC42NyxcbiAgICAgICAgICBhZnRlclNjb3JlOiAwLjg1XG4gICAgICAgIH0sXG4gICAgICAgIHJlY29tbWVuZGF0aW9uczogW1xuICAgICAgICAgICdBcHBseSBzaW1pbGFyIGNsYXJpdHkgaW1wcm92ZW1lbnRzIHRvIG90aGVyIHNlY3Rpb25zJyxcbiAgICAgICAgICAnSW1wbGVtZW50IHVzZXIgZmVlZGJhY2sgY29sbGVjdGlvbiBvbiBxdWVzdGlvbiBjbGFyaXR5JyxcbiAgICAgICAgICAnQ3JlYXRlIHF1ZXN0aW9uIHJldmlldyBwcm9jZXNzIGZvciBuZXcgY29udGVudCdcbiAgICAgICAgXSxcbiAgICAgICAgY29uZmlkZW5jZTogODMsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDEyICogNjAgKiA2MCAqIDEwMDApLCAvLyAxMiBob3VycyBhZ29cbiAgICAgICAgaW1wYWN0OiB7XG4gICAgICAgICAgdXNlcnM6IDM0LFxuICAgICAgICAgIGFzc2Vzc21lbnRzOiAyOCxcbiAgICAgICAgICBwZXJmb3JtYW5jZTogODJcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF07XG5cbiAgICByZXR1cm4gc2FtcGxlSW5zaWdodHMuc2xpY2UoMCwgbGltaXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBsZWFybmluZyBjeWNsZSBoaXN0b3J5XG4gICAqL1xuICBwdWJsaWMgZ2V0TGVhcm5pbmdIaXN0b3J5KCk6IExlYXJuaW5nQ3ljbGVbXSB7XG4gICAgcmV0dXJuIHRoaXMubGVhcm5pbmdDeWNsZXMuc29ydCgoYSwgYikgPT4gYi5zdGFydFRpbWUuZ2V0VGltZSgpIC0gYS5zdGFydFRpbWUuZ2V0VGltZSgpKTtcbiAgfVxufVxuXG4vLyBFeHBvcnQgc2luZ2xldG9uIGluc3RhbmNlXG5leHBvcnQgY29uc3QgY29udGludW91c0xlYXJuaW5nRW5naW5lID0gbmV3IENvbnRpbnVvdXNMZWFybmluZ0VuZ2luZSgpO1xuIl0sIm5hbWVzIjpbInByaXNtYSIsIkNvbnRpbnVvdXNMZWFybmluZ0VuZ2luZSIsInJ1bkxlYXJuaW5nQ3ljbGUiLCJjeWNsZUlkIiwiRGF0ZSIsIm5vdyIsInN0YXJ0VGltZSIsImNvbnNvbGUiLCJsb2ciLCJhc3Nlc3NtZW50SW5zaWdodHMiLCJ1c2VyQmVoYXZpb3JJbnNpZ2h0cyIsInN5c3RlbVBlcmZvcm1hbmNlSW5zaWdodHMiLCJjb21wbGlhbmNlSW5zaWdodHMiLCJQcm9taXNlIiwiYWxsIiwiYW5hbHl6ZUFzc2Vzc21lbnRQYXR0ZXJucyIsImFuYWx5emVVc2VyQmVoYXZpb3IiLCJhbmFseXplU3lzdGVtUGVyZm9ybWFuY2UiLCJhbmFseXplQ29tcGxpYW5jZVBhdHRlcm5zIiwiYWxsSW5zaWdodHMiLCJjeWNsZSIsImlkIiwiZW5kVGltZSIsInN0YXR1cyIsImluc2lnaHRzIiwic3VtbWFyeSIsInRvdGFsSW5zaWdodHMiLCJsZW5ndGgiLCJjcml0aWNhbEluc2lnaHRzIiwiZmlsdGVyIiwiaSIsInNldmVyaXR5IiwiaGlnaEltcGFjdEluc2lnaHRzIiwicmVjb21tZW5kYXRpb25zR2VuZXJhdGVkIiwicmVkdWNlIiwic3VtIiwicmVjb21tZW5kYXRpb25zIiwiYWRkTGVhcm5pbmdDeWNsZSIsImVycm9yIiwiZmFpbGVkQ3ljbGUiLCJyZWNlbnRSZXNwb25zZXMiLCJhc3Nlc3NtZW50UmVzcG9uc2UiLCJmaW5kTWFueSIsImluY2x1ZGUiLCJ2ZXJzaW9uIiwiYXNzZXNzbWVudCIsIndoZXJlIiwiY3JlYXRlZEF0IiwiZ3RlIiwidGFrZSIsInNlY3Rpb25BbmFseXNpcyIsImFuYWx5emVTZWN0aW9uUGF0dGVybnMiLCJzZWN0aW9uSWQiLCJhbmFseXNpcyIsIk9iamVjdCIsImVudHJpZXMiLCJkaWZmaWN1bHR5U2NvcmUiLCJwdXNoIiwidHlwZSIsImNhdGVnb3J5IiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImRhdGEiLCJjb25maWRlbmNlIiwidGltZXN0YW1wIiwiaW1wYWN0IiwidXNlcnMiLCJ0b3RhbFVzZXJzIiwiYXNzZXNzbWVudHMiLCJ0b3RhbEFzc2Vzc21lbnRzIiwicGVyZm9ybWFuY2UiLCJjb21wbGV0aW9uUmF0ZSIsImF2Z1Jlc3BvbnNlVGltZSIsImNhbGN1bGF0ZUF2ZXJhZ2VSZXNwb25zZVRpbWUiLCJNYXRoIiwicm91bmQiLCJ0b3RhbFJlc3BvbnNlcyIsIlNldCIsIm1hcCIsInIiLCJ0ZW5hbnRJZCIsInNpemUiLCJyZWNlbnRWZXJzaW9ucyIsImFzc2Vzc21lbnRWZXJzaW9uIiwicmVzcG9uc2VzIiwic2Vzc2lvbkFuYWx5c2lzIiwiYW5hbHl6ZVNlc3Npb25QYXR0ZXJucyIsImF2Z1Nlc3Npb25UaW1lIiwicmVjZW50TG9ncyIsImFzc2Vzc21lbnRBdWRpdExvZyIsInBlcmZvcm1lZEF0IiwiZXJyb3JBbmFseXNpcyIsImFuYWx5emVFcnJvclBhdHRlcm5zIiwiZXJyb3JSYXRlIiwidG9GaXhlZCIsImFmZmVjdGVkVXNlcnMiLCJhZmZlY3RlZEFzc2Vzc21lbnRzIiwicGVyZm9ybWFuY2VBbmFseXNpcyIsImFuYWx5emVQZXJmb3JtYW5jZVBhdHRlcm5zIiwiY29tcGxpYW5jZUFuYWx5c2lzIiwiYW5hbHl6ZUNvbXBsaWFuY2VTY29yZXMiLCJhdmdDb21wbGlhbmNlU2NvcmUiLCJzZWN0aW9uRGF0YSIsImZvckVhY2giLCJyZXNwb25zZSIsInF1ZXN0aW9uSWQiLCJzcGxpdCIsImNvbXBsZXRlZFJlc3BvbnNlcyIsInJlc3BvbnNlVGltZXMiLCJpc0NvbXBsZXRlZCIsImFkZCIsInZlcnNpb25JZCIsInJlc3BvbnNlVGltZSIsImtleXMiLCJ0aW1lIiwibWF4IiwidmVyc2lvbnMiLCJ0b3RhbFNlc3Npb25zIiwiY29tcGxldGVkU2Vzc2lvbnMiLCJ2IiwiZ2V0VGltZSIsInVwZGF0ZWRBdCIsImxvZ3MiLCJlcnJvckxvZ3MiLCJhY3Rpb24iLCJkZXRhaWxzIiwiaW5jbHVkZXMiLCJ1c2VySWQiLCJhc3Nlc3NtZW50SWQiLCJ0b3RhbExvZ3MiLCJwZXJmb3JtYW5jZUxvZ3MiLCJwYXJzZUludCIsIm1hdGNoIiwic2NvcmVzIiwidG90YWxTY29yZSIsInNjb3JlIiwic2NvcmVEaXN0cmlidXRpb24iLCJleGNlbGxlbnQiLCJzIiwiZ29vZCIsImZhaXIiLCJwb29yIiwibGVhcm5pbmdDeWNsZXMiLCJtYXhDeWNsZXMiLCJzbGljZSIsImdldFJlY2VudEluc2lnaHRzIiwibGltaXQiLCJmbGF0TWFwIiwic29ydCIsImEiLCJiIiwiZ2V0U2FtcGxlSW5zaWdodHMiLCJzYW1wbGVJbnNpZ2h0cyIsImRyb3BvZmZSYXRlIiwiYXZnVGltZVNwZW50IiwiY29tbW9uRXhpdFBvaW50cyIsInBlcnNvbmEiLCJhdmdDb21wbGV0aW9uVGltZSIsImF2Z1Njb3JlIiwiY3VycmVudFNjb3JlIiwicHJldmlvdXNTY29yZSIsInRyZW5kRGlyZWN0aW9uIiwiYWZmZWN0ZWRSZWd1bGF0aW9ucyIsInBlYWtIb3VycyIsIm5vcm1hbFJlc3BvbnNlVGltZSIsImltcHJvdmVtZW50UmF0ZSIsImJlZm9yZVNjb3JlIiwiYWZ0ZXJTY29yZSIsImdldExlYXJuaW5nSGlzdG9yeSIsImNvbnRpbnVvdXNMZWFybmluZ0VuZ2luZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/learning/continuousLearningEngine.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/prisma.ts":
/*!***************************!*\
  !*** ./src/lib/prisma.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3ByaXNtYS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNkM7QUFFN0MsTUFBTUMsa0JBQWtCQztBQUlqQixNQUFNQyxTQUFTRixnQkFBZ0JFLE1BQU0sSUFBSSxJQUFJSCx3REFBWUEsR0FBRTtBQUVsRSxJQUFJSSxJQUF5QixFQUFjSCxnQkFBZ0JFLE1BQU0sR0FBR0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb21wbGlhbmNlLWlxLy4vc3JjL2xpYi9wcmlzbWEudHM/MDFkNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCdcblxuY29uc3QgZ2xvYmFsRm9yUHJpc21hID0gZ2xvYmFsVGhpcyBhcyB1bmtub3duIGFzIHtcbiAgcHJpc21hOiBQcmlzbWFDbGllbnQgfCB1bmRlZmluZWRcbn1cblxuZXhwb3J0IGNvbnN0IHByaXNtYSA9IGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPz8gbmV3IFByaXNtYUNsaWVudCgpXG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSBnbG9iYWxGb3JQcmlzbWEucHJpc21hID0gcHJpc21hXG4iXSwibmFtZXMiOlsiUHJpc21hQ2xpZW50IiwiZ2xvYmFsRm9yUHJpc21hIiwiZ2xvYmFsVGhpcyIsInByaXNtYSIsInByb2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/prisma.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Flearning%2Finsights%2Froute&page=%2Fapi%2Flearning%2Finsights%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Flearning%2Finsights%2Froute.ts&appDir=%2FUsers%2Ftarinipersonal%2FDocuments%2FComplianceIQ%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftarinipersonal%2FDocuments%2FComplianceIQ&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();